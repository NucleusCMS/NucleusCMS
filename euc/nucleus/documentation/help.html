<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=EUC-JP" />
	<!-- $Id: help.html,v 1.1.1.1 2005-02-28 07:13:55 kimitake Exp $ -->
	<title>Nucleus管理用ヘルプ</title>
	<style type="text/css">
	<!--
		body {
			font-family: verdana, arial;
			font-size: small;
		}

		h1 {
			font-size: large;
			border-bottom: 1px gray dashed;
			color: #596d9d;
			text-align: left;
		}

		h2 {
			font-size: medium;
			border: 1px solid #ddd;
			background-color: whitesmoke;
			text-align: left;
		}

		.page {
			height: 800px;
			text-align: justify;
			margin-bottom: 100px;
		}

		pre {
			background-color: #ddd;
			padding: 5px;
			font-size: small;
		}

		.example {
			background-color: #ddd;
			padding: 5px;
		}

		ul.templates {
			font-size: x-small;
			line-height: 1.1;
			list-style: none;
			text-indent: -20px;
			margin-left: 20px;
		}

		ul {
			text-align: left;
		}

		a:link, a:visited {
			color: #1D3565;
			font-weight: bold;
			text-decoration: underline;
		}

		a:hover {
			background-color: whitesmoke;
		}

		.deprecated {
			border: 3px solid red;
			padding: 5px;
			font-size: medium;
		}

		tt, code {
			font-size: small;
		}

		table {
			border: 1px solid #ccc;
		}

		th {
			background-color: #eee;
		}

		td {
			vertical-align: top;
		}

		.note {
			background-color: #eee;
			padding: 5px;
		}
	-->
	</style>
</head>
<body>

<div class="page">
<h1>Nucleusポップアップ・ヘルプ</h1>
<p>ページがダウンロードされている間はお待ちください（だいたい100KBです）。</p>
</div>


<div class="page">
<a name="future"></a>
<a name="allowpastposting"></a>
<h1>後で追加/過去に投稿</h1>
<h2>後で追加</h2>
<p>アイテム追加フォームの「後で追加」オプションにより、アイテムを指定した時間きっかりに公開することができます。その時が来るまで、アイテムはサイトの公開された部分で見られる事がありません。</p>
<p>この日時は<strong>未来のものでなくてはなりません</strong>。アイテムを追加するblogの「過去の日時での投稿を許可する」オプションが有効である場合は除いて。</p>
<h2>過去の日時での投稿を許可する</h2>
<p>有効にすると、アイテムが追加された日時を指定できます。加えて、既に存在するアイテムのタイムスタンプ（投稿日時）を編集できます。</p>
</div>

<div class="page"><a name="changedate"></a>
<h1>投稿日時の変更</h1>
<p>
「タイムスタンプを更新」オプションにより、アイテムの投稿された日付か時間あるいはその両方を変更できます。もしアイテムの内容を変更したのなら、この方法で記事をフロントページのトップに戻せるでしょう。</p>
<p>しかし、そのアイテム独自のIDは変更されません。よって訪問者は、そのアイテムはもともとより低いID値のアイテム群より後に投稿されたことに気がつくことができます。</p>
</div>


<div class="page"><a name="draft"></a>
<h1>ドラフト(Drafts)</h1>
<p>ドラフト状態のアイテムはblogの公開されたところではまだみることができません。記事を書いている時役に立つでしょうし、多少の間を取るにもいいでしょう。ドラフト状態のアイテムは「管理ホーム」にリストとして表示されるので、時間のあるときに作業を再開することが可能です。</p>
<p>ドラフトを編集する際、「<strong>今すぐ追加</strong>」のラジオボタンを選び「保存」ボタンを押すと公開されます。</p>
</div>

<div class="page"><a name="extended"></a>
<h1>「続き」部分</h1>
<p>アイテムには、記事を続けるために用いられるオプションである「続き」部分があります。例えば、記事がblogのメインページに置くには長すぎる場合、導入を「本文」部分に、残りを「続き」部分に書くことができます。メインのblogページを閲覧すると、「続きを読む」というリンクを目にすることでしょう。（テンプレートによってリンクの形は定義されます）</p>
<p>もし、導入をアイテムの単なる<em>概略</em>として書きたいのなら、<a href="#templatevar-smartbody">smartbody</a>というテンプレート変数を用いて、「本文」と「続き」の表示を分けることが可能です。
</p>
</div>

<div class="page"><a name="shortblogname"></a>
<h1>Blogの短縮名</h1>
<p>「Blogの短縮名」は主に管理領域で、どのアイテムがどのblogと結びついているのか示すために使われます。</p>
<p>また、新規blogを有効にするための代替indexファイルでも用いられます（以下はmyshortblognameが「Blogの短縮名」だった場合の呼び出しファイルの例）：</p>
<pre>
&lt;?
	include('./config.php');
	selectBlog('myshortblogname');
	selector();
?&gt;
</pre>
</div>

<div class="page"><a name="blogdefaultskin"></a>
<h1>標準のスキン</h1>
<p>blogごとの「設定」で選択された「標準のスキン」はそのblogが表示されるときに用いられるスキンです。選択できるのは一つだけです。（URLの引数を通して別のスキンで表示させることはできます）</p>
</div>


<div class="page"><a name="blognotify"></a>
<h1>通知するメールアドレス</h1>
<p>このオプションは、新しくコメントが追加された際に通知するメールアドレスを一つあるいは複数いれるものです。もし通知が不要なら空っぽにしておいてください。メールアドレスは、あたりまえですが、有効なものでなくてはなりません。</p>
<p>もし複数のメールアドレスを利用する場合は、セミコロン(<strong>;</strong>)で区切ってください。</p>
<div class="note">
<b>注意：</b>設定フィールドの最大長は128文字です。リスト可能なメールアドレスの量はそれによってのみ制限されます</div>
<div class="note">
<b>注意：</b>メンバー登録に使われているメールアドレスを通知先にした場合、自身で書いたのアイテムとコメントの通知を受け取ることはありません。自分で書いたことは知っているはずですから、問題にはならないでしょう。</div>
</div>

<div class="page"><a name="blogmaxcomments"></a>
<h1>コメントの最大量</h1>
<p><em>メインページ</em>に表示するコメントの最大数です。<strong>これはコメント可能な最大数を制限するものではありません</strong>。詳細のページでは、設定した最大数を超えていても全てのコメントが表示されます。</p>
<p class="note"><strong>注意：</strong>テンプレート内部では、テンプレート変数<a href="#templatevar-comments">comments</a>のオプションパラメーターによってここでの値は上書きされます。</p>
</div>

<div class="page"><a name="blogtimeoffset"></a>
<h1>サーバ時刻との時差</h1>
<p>もしサーバの時刻があなたの生活時刻と一致しなければ、正確な時間を得る為にサーバ時刻との時差を加えたいかもしれません。減らすためには負の値を用いてください（マイナス記号をつける）。参照するために現在のサーバ時刻が表示されています。</p>
<h2>実例</h2>
<p>もしローカル時刻が20:35で表示されているサーバ時刻が14:35であった場合、blogの時刻を20:35にするためには「サーバ時刻との時差」を6.0に設定する必要があります。</p>
<p class="note"><strong>注意：</strong>30分時差のあるタイムゾーンに住む人々のための、分刻みの時差補正もまた同様です。例えば「サーバ時刻との時差」を<strong>1.5</strong>にすると、1時間30分の補正となります。</p>
</div>

<div class="page"><a name="blogupdatefile"></a>
<h1>自動更新するファイル</h1>
<p>Nucleusはblogに新しいアイテムが追加されるたびに、ファイルを更新することができます。そのファイルの中身は最終変更時のタイムスタイプとなります。このようなファイルは、定期的に更新が無いかみるためにサーバ上のファイルをチェックして、そこから「weblogの更新状況」を作成するサービスに使うことができます。これらをメインblogに用た特徴は、訪問者がコメントを追加したりスキンやテンプレートに変更を加えたりしたときには更新を知らせることが無いということです。</p>
<p>自動更新されるファイルが必要ないときは、フィールドを空っぽにしておいてください。</p>
<p>自動更新されるファイルの場所は管理領域からの相対となることにご注意ください。なので、（<tt>/path/to/your/website/update.txt</tt> のような）絶対パスを使う方がよいでしょう。また自動更新されるファイルを作成してかつ書き込めるように（<a href="tips.html#filepermissions" onclick="window.open(this.href);return false;" class="out" title="quick guide on changing file permissions">パーミッションを0666</a>に）してください。</p>
</div>

<div class="page"><a name="teamadmin"></a>
<h1>Blogの管理者</h1>
<p>
Blogの管理者は次のような追加権限をもちます：
</p>

<ul>
	<li>チームの操作</li>
	<li>blog設定の変更</li>
	<li>（該当blogの） どの投稿者のアイテムでも編集と削除が可能</li>
	<li>blogの削除</li>
</ul>

<p>一つのblogは複数の管理者を持つことができます。ただし、いつでも最低一人の管理者がいなくてはなりません。</p>
</div>


<div class="page"><a name="superadmin"></a>
<h1>管理者の特権</h1>

<p><em>super-admin（最高管理者）</em>と呼ばれ、全ての機能と全てのweblogに<strong>フルアクセス</strong>できます。たとえblogのチームに入っていなくてもです。</p>

<p>それに加えて：super-adminは、weblogの作成、一般設定の変更、テンプレートの書き換え、スキンの書き換え、メンバーの操作（メンバーの作成/編集/削除）を行う権限があります。</p>

<p>普通、super-adminとなるのはサイトの管理者ただ一人でしょう。</p>

</div>

<div class="page"><a name="canlogin"></a>
<h1>管理者領域へのログイン</h1>
<p><a href="#superadmin" title="Administrator Privileges">super-admin</a>はそれぞれのメンバーの管理領域へのログインを許可しないよう設定できます。</p>
</div>

<div class="page"><a name="defaultblog"></a>
<h1>既定のBlog</h1>
<p>他のblogが要求時に指定されない場合、表示されるblogです。</p>
</div>

<div class="page"><a name="baseskin"></a>
<h1>基本のスキン</h1>
<p>このオプションは、判定が自動解決されない場合に代用するスキンをNucleusに設定します。これはスキン・パーツが空っぽだったり、blogやskinで明確に指定されていないときにおきます。</p>
<p>ほとんどのユーザーは、この設定を気にする必要がありません。</p>
</div>

<div class="page"><a name="cookies"></a>
<h1>Cookie設定</h1>

<h2>ログインCookieの有効期間</h2>
<p>メンバーがログインするとブラウザにcookieが保存され、翌日に戻ってきたときに再びログインする必要がなくなります。クッキーの有効期間によって、いつ無効になるか決定されます：</p>
<ul>
	<li><strong>セッションごと</strong> − ブラウザを終了させるとcookieは削除されます</li>
	<li><strong>一ヶ月</strong> − 一ヶ月続けてサイトか管理領域を訪れないということが無い限り、cookieはコンピュータに残ります。このオプションを使えば、たぶん再ログインする必要はなくなるでしょう。（自分でログアウトしたときや、他のコンピュータからログインするときは別ですが）</li>
</ul>

<h2>CookieパスとCookieドメイン</h2>
<p>これらは上級の設定です。通常は変更する必要はありません。その場合、cookieパスは単純にスラッシュ（'/'）を入れ、cookieドメインは空っぽにしておいてください。</p>

<h2>セキュアCookie</h2>
<p>通常は「いいえ」に設定してください。HTTPSのurlを用いておりかつhttps接続を通してのみcookieを送りたい場合でだけ、「はい」にしなければなりません。</p>

<h2>最終訪問日時Cookieの保存</h2>
<p>訪問者が最後に訪れた時間をcookieに含め保存させるよう、Nucleusを設定することが可能です。これによって、<a href="#templatenew">新規アイテム</a>の隣にしるしを置くことができます。</p>

</div>


<div class="page"><a name="language"></a>
<h1>言語</h1>
<p>個々のメンバー用のコンテンツをnucleusが作成するときに用いられる言語を選択することができます。Nucleusによって生成されるコンテンツには、管理領域、エラーメッセージ、スキンにおけるフォームなどが含まれます。</p>

<p>言語の選択を行う場所は二ヶ所あります。「一般設定」にはデフォルトで用いられる「既定の言語」が含まれています。次にログイン状態のメンバーは、望むならこの設定を上書きできます。</p>

<p>これら両方の設定が無効なら、英語がデフォルトの言語として用いられます</p>

<p class="note"><strong>注意：</strong> 追加の言語ファイルは<a href="http://www.nucleuscms.org/" onclick="window.open(this.href);return false;" class="out" title="Nucleus CMS Website">Nucleusのウェブサイト</a>からダウンロードできます。（新規ウィンドウが開きます）</p>

</div>

<div class="page"><a name="allowaccountcreation"></a>
<h1>アカウントの作成</h1>
<p>訪問者に自身のメンバーアカウント作成を許可するようにも許可しないようにもできます。新規メンバーは（管理者がチームに加えるまでは）blogにアイテムを追加することはできません。しかし、管理領域にログインして設定を変更できます。また自分のコメントを削除したり変更したりも可能です。</p>
</div>

<div class="page"><a name="allownewmemberlogin"></a>
<h1>新規メンバーのログイン許可</h1>
<p>もし訪問者による<a href="#allowaccountcreation">アカウントの作成</a>を許可するなら、この設定はその方法で作られたアカウントが<a href="#canlogin">管理領域にログイン</a>できるか否かを明確に定めます。</p>
</div>


<div class="page"><a name="messageservice"></a>
<h1>メッセージサービス</h1>

<p>メンバーのプライバシーのために、全てのメールアドレスを隠したままで、スクリプトを通してメンバー同士でメールメッセージの送信ができます。送信されたメッセージにはどっちにしろ両ユーザーのメールアドレスが含まれますので、その後は通常のメールを用いた連絡を続けることができます。このサービスは無効にすることが可能です。</p>

<h2>メンバー以外</h2>
<p>デフォルトでは、非メンバーはメッセージサービスを使えません。なぜなら有効なメールアドレスが入力されたかチェックする方法が無いからです。「メンバー以外からのメッセージ送付を許可」することによってこの制限を緩和できます。非メンバーはメッセージの投函時にメールアドレスを尋ねられ、それが受け取ったメールのヘッダー<tt>From:</tt>に表示されることになります。</p>

</div>

<div class="page"><a name="disablesite"></a>
<h1>サイトの閉鎖</h1>
<p>Nucleusのサイト全体を閉じることが可能です。なんらかの設定調整を行うときに、あるいは何か恐ろしい間違いが起きた時にこれを実行したいと思うかもしれません:-)</p>
<p>ここで設定しなければならないURLは、訪問者がリダイレクトされるURLとなります。</p>
<p>例外：<strong>管理領域</strong>はそれまで通り利用可能であり、<strong><a href="#superadmin">最高管理者</a></strong>はそれまで通りにサイト全体をみることができます。（あとでサイトを再開することを忘れないでください;-)）</p>
</div>


<div class="page"><a name="urlmode"></a>
<h1>URLモード</h1>
<p>このオプションを用いることにより、URLスタイルを切り替え可能です：</p>
<ul>
	<li><strong>Normal</strong>: URLは次のようになります <code>http://host/index.php?itemid=1234</code></li>
	<li><strong>Fancy</strong>: URLは次のようになります <code>http://host/item/1234</code></li>
</ul>
<p class="note"><strong>注意：</strong>「Fancy URL」モードで動作するようにするためには、いくつか他の作業が必要になります。それらは<a href="tips.html" class="out" onclick="window.open(this.href);return false;">Tips &amp; Suggestions</a>に記述されています。（新規ウィンドウが開きます）</p>
</div>

<div class="page"><a name="templateitems"></a>
<h1>テンプレート：アイテム</h1>
<p>アイテム表示時に、それぞれのアイテムで次のセットが繰り返されます：
</p>

<pre>
アイテムのヘッダー
アイテムの本体
アイテムのフッター
</pre>

<p>これら3つのブロックはすべてテンプレートの一部であり、結果どのような見た目になるのか定義します。</p>

<h2>変数</h2>

<p>これらのテンプレート内で、アイテムのデータを挿入するのに<a href="#templatevars-overview" title="Find out which variables are available">テンプレート変数とよばれる系列が利用できます</a>。</p>

<h2>例</h2>
<p><a href="#templateitemsexample">テンプレート：アイテムの例</a></p>

</div>

<div class="page"><a name="templateitemsexample"></a>
<h1>テンプレート：アイテムの例</h1>
<p>「アイテムの本体」テンプレートの一例です：</p>

<pre>&lt;h1&gt;&lt;%title%&gt;&lt;/h1&gt;

&lt;p&gt;&lt;%body%&gt;&lt;/p&gt;

&lt;div class="metadata"&gt;
 &lt;a href="&lt;%itemlink%&gt;"&gt;link&lt;/a&gt; -
 &lt;%date%&gt; &lt;%time%&gt; -
 &lt;a href="&lt;%authorlink%&gt;"&gt;&lt;%author%&gt;&lt;/a&gt; -
 &lt;%comments%&gt;
&lt;/div&gt;</pre>

<p>結果はこのようなものになります：</p>

<div class="example">
<h4 style="margin: 2px;">ここはアイテムのタイトルです</h4>
<p style="margin: 2px; padding: 0px;">ここはアイテムのテキスト部分です</p>
<div style="font-style: italic; margin: 2px;">
 <a href="#templateitemsexample">link</a> -
 August 8th 2002 18:51 -
 <a href="#templateitemsexample">karma</a> -
 <a href="#templateitemsexample">no comments</a>
</div>
</div>

</div>


<div class="page"><a name="templatecomments"></a>
<h1>テンプレート：コメント</h1>

<p>コメントブロックは3つの要素で構成されています。</p>

<ol>
	<li>
		コメントが表示されるとき（詳細のページやメインページで許可されているコメントの最大数を下回っているとき）
<pre>コメントのヘッダー
  コメントの本体（繰り返し）
コメントのフッター</pre>
	</li>
	<li>
		コメントがまったく無いとき
<pre>
コメントが無い時
</pre>
	</li>
	<li>
		コメントがあるが、許可されている最大数を上回っているとき（アイテムの詳細のページでのみ表示されます）
<pre>
長すぎるコメントの時
</pre>
	</li>
</ol>

<p>これらのテンプレート内部では、いくつかの<a href="#templatevars-comments" title="Overview of comments-related template variables">コメント関連変数</a>が利用できます。</p>

</div>

<div class="page">
<a name="templatecommentheaders"></a>
<a name="templatecommentfooters"></a>
<h1>テンプレート：コメントのヘッダーとフッター</h1>

<h2>特徴</h2>

<p>「コメントの本体」はコメント一つごとに繰り返されますが、ヘッダーとフッターは一度しか表示されません。典型的な構成はこのようになります：</p>
<pre>コメントのヘッダー
  コメントの本体 1
  コメントの本体 2
  コメントの本体 3
コメントのフッター</pre>
<p>これらのテンプレート内では、<a href="#templatevars-comments" title="Overview of comments-related template variables">コメント関連変数</a>が利用できます。</p>

<h2>例</h2>

<p>Header:</p>
<pre>&lt;ul&gt;</pre>
<p>Body:</p>
<pre>&lt;li&gt;&lt;%user%&gt;: &lt;%body%&gt;&lt;/li&gt;</pre>
<p>Footer</p>
<pre>&lt;/ul&gt;</pre>
<p>Result</p>

<ul class="example">
	<li>karma: いいね！</li>
	<li>xiffy: ああ、たしかに！</li>
</ul>

</div>

<div class="page"><a name="templatemorelink"></a>
<h1>テンプレート：続きへのリンク</h1>
<p>これはアイテムのテンプレートで利用できるテンプレート変数、"morelink"のフォーマットとして用いられるテンプレートです。<a href="#templatevars-overview">利用可能な変数</a>はアイテムのテンプレートと同じです。</p>
<p>もしアイテムに「続き」の部分が存在しない場合、テンプレート変数<code>&lt;%morelink%&gt;</code>は無効となります。</p>

<h2>例</h2>
<pre><code>&lt;a href="&lt;%itemlink%&gt;"&gt;[続きを読む！]&lt;/a&gt;</code></pre>

</div>

<div class="page"><a name="templatearchivelists"></a>

<h1>テンプレート：アーカイブリスト</h1>

<p>過去ログのリストは、以下のようなリスト体裁をとります：</p>

<pre>アーカイブリストヘッダー
  アーカイブリスト本体（アーカイブごとに繰り返される）
アーカイブリストフッター</pre>

<p>利用できる変数：（ヘッダーとフッターでは<tt>blogid</tt>のみが許可されています）</p>

<table><tr>
	<th>名前</th>
	<th>説明</th>
</tr><tr>
	<td>blogid</td>
	<td>weblogのID</td>
</tr><tr>
	<td>archivelink</td>
	<td>アーカイブへのリンク。<code>&lt;a href=".."&gt;</code>のようなタグとしてはめ込むことができる。</td>
</tr><tr>
	<td>month</td>
	<td>月の数値（01-12の2文字表記）</td>
</tr><tr>
	<td>year</td>
	<td>年（西暦の4文字表記）</td>
</tr><tr>
	<td>day</td>
	<td>月の中での日付（二文字表記。日ごと表示の時のみ）</td>
</tr></table>

<p>リストに用いるアーカイブの日付表記をより融通の効くようにする方法は、<a href="#strftime">strftime</a>変数を用いることです。もし複雑すぎると感じたなら、次のを用いてください：</p>

<pre><code>&lt;a href="&lt;%archivelink%&gt;"&gt;%B, %Y&lt;/a&gt;&lt;br /&gt;</code></pre>


<p>言語設定をあなたの住んでいる地域の設定に変更するためには、<a href="#templatelocale">locale</a>を変更してください。</p>

</div>




<div class="page"><a name="templatecategorylists"></a>
<h1>テンプレート：カテゴリーリスト</h1>

<p>カテゴリーリストは下の表のようにフォーマットされます：</p>

<pre>カテゴリーリストヘッダー
  カテゴリーリストアイテム（繰り返し）
カテゴリーリストフッター</pre>

<p>利用可能な変数：（ヘッダーとフッターでは<tt>blogid</tt>、<tt>blogurl</tt>、<tt>self</tt>のみが許可されています）</p>

<table><tr>
	<th>名前</th>
	<th>説明</th>
</tr><tr>
	<td>blogid</td>
	<td>weblogのID</td>
</tr><tr>
	<td>blogurl</td>
	<td>blogのURL（blogごとの「設定」で定義される）</td>
</tr><tr>
	<td>self</td>
	<td>パラメーター無しの現在のページ（例えば<tt>index.php</tt>）</td>
</tr><tr>
	<td>catlink</td>
	<td>該当カテゴリーの新しいアイテムへのリンク。これにより&lt;a href=".."&gt;タグを埋め込むことができる。</td>
</tr><tr>
	<td>catid</td>
	<td>カテゴリーのID</td>
</tr><tr>
	<td>catname</td>
	<td>カテゴリー名</td>
</tr><tr>
	<td>catdesc</td>
	<td>カテゴリーの説明</td>
</tr></table>

<p><a href="#categorylistexample">例を見る</a></p>

</div>

<div class="page"><a name="categorylistexample"></a>
<h1>テンプレート：カテゴリーリストの例</h1>
<p>
<a href="#templatecategorylists">（戻る）</a>
</p>

<h2>カテゴリーリストヘッダー</h2>
<pre><code>&lt;ul&gt;
  &lt;li&gt;&lt;a href="&lt;blogurl%&gt;"&gt;まとめて表示&lt;/a&gt;&lt;/li&gt;</code></pre>

<h2>カテゴリーリストアイテム</h2>
<pre><code>&lt;li&gt;&lt;a href="&lt;%catlink%&gt;"&gt;&lt;%catname%&gt;&lt;/a&gt;&lt;/li&gt;</code></pre>

<h2>カテゴリーリストフッター</h2>
<pre><code>&lt;/ul&gt;</code></pre>

<h2>結果はこうなります：</h2>

<ul class="example">
	<li><a href="#categorylistexample">まとめて表示</a></li>
	<li><a href="#categorylistexample">あなたのカテゴリー</a></li>
	<li><a href="#categorylistexample">わたしのカテゴリー</a></li>
</ul>

</div>







<div class="page"><a name="templatelocale"></a>
<h1>テンプレート：Locale</h1>
<p>これは実際のところテンプレートの部品というより設定です。設定することによって、日付と時刻のローカライズを選択できます。月と日の名前などは要求された言語での表示になるでしょう。</p>

<p>使える変数は、Nucleusが動作しているコンピュータによります。使える変数をいくつかあげますと･･･：</p>

<ul>
	<li><strong>en</strong>：英語</li>
	<li><strong>dutch</strong>：オランダ語</li>
	<li><strong>ja_JP</strong>：日本語</li>
	<li>...</li>
</ul>

<p>strftimeに関するより詳しい情報は、<a href="http://www.opengroup.org/onlinepubs/7908799/xsh/strftime.html" onclick="window.open(this.href);return false;" class="out" title="Open Group specification">Open Group Specification</a>にあります。（新規ウィンドウが開きます）</p>

<p>localeは<a href="#templatedatetime">日付と時刻のフォーマット</a>、<a href="#templatedateheads">日付ヘッダー</a>、<a href="#templatearchivelists">アーカイブリスト</a>で利用されます。</p>

</div>

<div class="page"><a name="templatedatetime"></a>
<h1>テンプレート：日付と時刻のフォーマット</h1>
<p>これらは<code>&lt;%date%&gt;</code>と<code>&lt;%time%&gt;</code>という変数（<a href="#templatevars-overview">テンプレート変数</a>をご覧ください）における日付と時刻のフォーマットに使われます。フォーマットは<a href="#templatelocale">locale</a>にも左右されます。</p>

<p><a href="#strftime">利用できる変数の詳細な情報はこちらを</a>。もし手っ取り早く始めたいのなら、日付フォーマットに"%x"を、時刻フォーマットに"%X"をお使いください。</p>

</div>

<div class="page"><a name="templatedateheads"></a>
<h1>テンプレート：日付ヘッダー/フッター</h1>

<p>日付のヘッダーと日付のフッターは日付と時刻の変数を入れることができます。<a href="#strftime">利用できる変数の詳細情報はこちらにあります</a>。もし手早く始めるのなら、"%x"を日付フォーマットとして使ってください。日付フォーマットで使われる言語は、テンプレートの<a href="#templatelocale">locale設定</a>で決定されます。</p>

<p>日付ヘッダーにテンプレート変数&lt;%%daylink%%&gt;を含めることによって、その日のアーカイブへのリンクを挿入できます。<strong>'%'が二つであることに注意を！月の中での現在日付に展開される%dを無効にするために必要な措置なのです。</strong>同様に、もし'%'という文字をここで使いたいなら、二つ重ねて('%%')置かないとサイトには表示されません。</p>

<p>日付ヘッダーのサンプル：</p>

<pre>
&lt;div class="day"&gt;
&lt;h1&gt;%d %B&lt;/h1&gt;
</pre>

<p>日付フッターのサンプル：</p>

<pre>
&lt;/div&gt;
</pre>

<p>daylinkを用いた日付ヘッダーの例：</p>

<pre>
&lt;div class="day"&gt;
&lt;h1&gt;%d %B&lt;/h1&gt;
&lt;a href="&lt;%%daylink%%&gt;"&gt;（アーカイブ）&lt;/a&gt;
</pre>

</div>

<div class="page"><a name="templatehighlight"></a>
<h1>テンプレート：ハイライト表示</h1>
<p>ハイライト表示は検索実行時に使われます。これは規則変化に沿った表現として実際に使われますので、直前にバックスラッシュを置くことによっていくつかの記号をエスケープしたいと望むかもしれません。ハイライトされた単語が当てはめられる場所は"\0"で示されます。</p>

<h2>例</h2>

<pre><code>&lt;span style='background-color:yellow'&gt;\0&lt;/span&gt;</code></pre>

</div>

<div class="page"><a name="templatenothingfound"></a>
<h1>テンプレート：検索で何も見つからなかった場合</h1>

<p>検索が実行され結果何も見つからなかった場合に表示されます。</p>

<p>利用可能な変数：</p>

<table><tr>
	<th>名前</th>
	<th>説明</th>
</tr><tr>
	<td>blogid</td>
	<td>weblogのID</td>
</tr><tr>
	<td>query</td>
	<td>検索に用いられたクリエー</td>
</tr></table>

<h2>例</h2>

<pre><code>&lt;b&gt;&lt;%query%&gt;&lt;/b&gt;に該当する検索結果はありませんでした</code></pre>

</div>

<div class="page"><a name="templatecommentbody"></a>
<h1>テンプレート：コメントの本体</h1>
<p>このテンプレート・パーツは単独のコメント表示に使われます。このテンプレート部では、<a href="#templatevars-comments" title="Overview of comments-related template variables">コメント関連テンプレート変数</a>が利用できます。</p>

<h2>例</h2>
<pre><code>&lt;h2&gt;&lt;%userlink%&gt;さんによるコメント：&lt;/h2&gt;

&lt;p&gt;&lt;%body%&gt;&lt;/p&gt;

&lt;div class="metadata"&gt;
 （接続元：&lt;%host%&gt; 投稿日時：&lt;%date%&gt; &lt;%time%&gt;）
&lt;/div&gt;</code></pre>

<p>結果はこうなります：</p>

<div class="example">
<h4 style="margin: 2px;"><a href="#templatecommentbody">karma</a>さんによるコメント：</h4>
<p style="margin: 2px;">ナイス！</p>
<div style="margin:2px;font-size:smaller;">(接続元：host.example.org 投稿日時：2003-03-02 13:30)</div>
</div>

</div>

<div class="page"><a name="templatepopups"></a>
<h1>テンプレート：メディアとポップアップ</h1>
<p>これらのテンプレートは、画像ウィンドウのポップアップへのリンクと画像以外のメディア・オブジェクトのフォーマットに用いられます。それぞれのテンプレートで利用可能な変数を以下に記します：</p>

<h2>ポップアップ画像へのリンクコード</h2>

<table><tr>
	<th>名前</th>
	<th>説明</th>
</tr><tr>
	<td>popuplink</td>
	<td>すぐに使える&lt;a href... といったリンク</td>
</tr><tr>
	<td>rawpopuplink</td>
	<td>href="..."内部のurlのみ</td>
</tr><tr>
	<td>popupcode</td>
	<td>ウィンドウを開くjavascriptコード</td>
</tr><tr>
	<td>text</td>
	<td>代用テキスト（リンクテキスト）</td>
</tr><tr>
	<td>width</td>
	<td>イメージの幅</td>
</tr><tr>
	<td>height</td>
	<td>イメージの高さ</td>
</tr><tr>
	<td>popuptext</td>
	<td>（textと同じ）</td>
</tr></table>


<h2>インライン画像のコード</h2>

<table><tr>
	<th>名前</th>
	<th>説明</th>
</tr><tr>
	<td>image</td>
	<td>すぐに使えるIMGタグ</td>
</tr><tr>
	<td>link</td>
	<td>画像への直接リンク（URL）</td>
</tr><tr>
	<td>text</td>
	<td>代用テキスト（リンクテキスト）</td>
</tr><tr>
	<td>width</td>
	<td>イメージの幅</td>
</tr><tr>
	<td>height</td>
	<td>イメージの高さ</td>
</tr></table>

<h2>メディアオブジェクトへのリンクコード</h2>

<table><tr>
	<th>名前</th>
	<th>説明</th>
</tr><tr>
	<td>media</td>
	<td>すぐに使えるAタグ</td>
</tr><tr>
	<td>link</td>
	<td>ファイルへの直接リンク（URL）</td>
</tr><tr>
	<td>text</td>
	<td>代用テキスト（リンクテキスト）</td>
</tr></table>

</div>

<div class="page"><a name="templatememberextra"></a>
<h1>テンプレート：登録メンバーからのコメントへの追加表示</h1>
<p>これはコメントの著者がメンバーであることをの証を追加するのに利用できるテンプレートです。最終的には<a href="#templatecommentbody">コメントの本体</a>で使われる<code>&lt;%authtext%&gt;</code>変数の表示となります。</p>

<p>このテンプレート内部では、いくつかの<a href="#templatevars-comments" title="Overview of comments-related template variables">コメント関連変数</a>が利用できます。</p>

</div>

<div class="page"><a name="templatecommentcontinued"></a>
<h1>テンプレート：コメントの続きを読む</h1>
<p>このリンク・フォーマットは、<a href="#templatecommentbody">コメントの本体</a>で使われる変数<code>&lt;%short%&gt;</code>の終わりに追加されます。</p>

<p>このテンプレート内部では、いくつかの<a href="#templatevars-comments" title="Overview of comments-related template variables">コメント関連変数</a>が利用できます（<code>&lt;%short%&gt;</code>変数以外）。</p>

<p>例：</p>

<pre>
 &lt;a href="&lt;%itemlink%&gt;"&gt;[続き]&lt;/a&gt;
</pre>

</div>

<div class="page"><a name="templatecommentwords"></a>
<h1>テンプレート：コメントの数え方</h1>
<p>訳注：日本語で使う場合は、単複同型なので両方"コメント"にして問題ないです。</p>
<p>たぶん、"1 comment(s)"よりむしろ"1 comment"と表示したい人が多いのではないでしょうか？「コメントが一つの時」と「コメントが二つ以上の時」のテンプレート部分はそういった目的のために使えます。これらは他の所で使える<code>&lt;%commentword%&gt;</code>変数の中身として利用されます。</p>

<p>もし一つしかコメントが無い場合、<code>&lt;%commentword%&gt;</code>は「コメントが一つの時」と同じ内容になります。もし1より多い複数のコメントがついているなら、<code>&lt;%commentword%&gt;</code>は「コメントが二つ以上の時」と同じ内容になります。
</p>

<p>典型的な値は"comment"と"comments"です。<strong>ここでは特別な変数は利用できません</strong>。</p>
</div>



<div class="page"><a name="templateeditlink"></a>
<h1>テンプレート：アイテムを編集するためのリンク </h1>
<p>このテンプレートは<a href="#templatevar-edit">テンプレート変数edit</a>がどのように表示されるかを決めるものです。ここではどのような<a href="#templatevars-overview">テンプレート変数</a>でも使用できます。
</p>

<h2>例：</h2>

<pre><code>&lt;a href="&lt;%editlink%&gt;"
   onclick="&lt;%editpopupcode%&gt;"&gt;編集&lt;/a&gt;</code></pre>

</div>




<div class="page"><a name="skinpartindex"></a>
<h1>スキン：メインの目次ページ</h1>
<p>このスキン部品はweblogにおける最新のエントリー（複数）を表示するのに用いられます。通常はサイトのトップページにあたるでしょう。</p>

<p>「メインの目次ページ」の非常に基本的な形：</p>

<pre>
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;私のウェブログ&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;

    &lt;h1&gt;私のウェブログ&lt;/h1&gt;
    &lt;%blog(mytemplate,20)%&gt;

  &lt;/body&gt;
&lt;/html&gt;
</pre>

<p>これによりデフォルトweblog（上書きされた場合を除く）の最新アイテム20個が、'mytemplate'というテンプレートを用いて表示されます。</p>
</div>


<div class="page"><a name="skinpartitem"></a>
<h1>個別アイテムページ</h1>
<p>これらのページは完全なアイテムを表示するために使われます。付けられた全てのコメントとコメント追加フォームを含めたものです。</p>

<p>「個別アイテムページ」の非常に基本的な形：</p>

<pre>
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;私のウェブログ :: アイテム&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;

    &lt;h1&gt;アイテム&lt;/h1&gt;
    &lt;%item(detailed)%&gt;

    &lt;h1&gt;コメント&lt;/h1&gt;
    &lt;%comments(detailed)%&gt;

    &lt;h1&gt;コメントを追加&lt;/h1&gt;
    &lt;%commentform%&gt;

  &lt;/body&gt;
&lt;/html&gt;
</pre>

<p>これにより'detailed'テンプレートを用いたアイテムとコメントが表示されます。加えて標準のコメントフォームも。</p>


</div>

<div class="page"><a name="skinpartarchivelist"></a>
<h1>スキン：月別アーカイブ一覧ページ</h1>
<p>アーカイブが存在する全ての月の概略と、それらアーカイブへのリンクです。</p>

<p>「月別アーカイブ一覧ページ」の非常に基本的な形：</p>

<pre>
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;私のウェブログ :: アーカイブ集&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;

    &lt;h1&gt;アーカイブ集&lt;/h1&gt;
    &lt;%archivelist(default)%&gt;

  &lt;/body&gt;
&lt;/html&gt;
</pre>

<p>これにより'default'テンプレートを用いた、存在するアーカイブファイル全てのリストが表示されます。</p>

</div>

<div class="page"><a name="skinpartarchive"></a>
<h1>スキン：月別アーカイブページ</h1>
<p>ひと月分のアーカイブ。「メインの目次ページ」と似た振る舞いをしますが、該当月の全てのアイテムを表示します。</p>

<p>「月別アーカイブページ」の非常に基本的な形：</p>

<pre>
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;私のウェブログ :: アーカイブ&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;

    &lt;h1&gt;アーカイブ&lt;/h1&gt;
    &lt;%archive(default)%&gt;

  &lt;/body&gt;
&lt;/html&gt;
</pre>

<p>これにより'default'テンプレートを用いて要求されたアーカイブが表示されます。</p>


</div>


<div class="page"><a name="skinpartsearch"></a>
<h1>スキン：検索ページ</h1>
<p>検索結果の表示に使われます。</p>

<p>「検索ページ」の非常に基本的な形：
</p>

<pre>
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;私のウェブログ :: 検索&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;

    &lt;h1&gt;検索&lt;/h1&gt;
    &lt;%searchform%&gt;

    &lt;h1&gt;検索結果&lt;/h1&gt;
    &lt;%searchresults(default)%&gt;

  &lt;/body&gt;
&lt;/html&gt;
</pre>

<p>これにより、'default'テンプレートを用いた検索の結果が表示されます。</p>

</div>

<div class="page"><a name="skinparterror"></a>
<h1>スキン：エラーページ</h1>
<p>エラーが発生したときに用いられます。</p>

<pre>
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;私のウェブログ :: エラー&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;

    &lt;h1&gt;エラーが発生しました！&lt;/h1&gt;
    &lt;%errormessage%&gt;

    &lt;br /&gt;&lt;br /&gt;

    &lt;a href="javascript:history.back();"&gt;戻る&lt;/a&gt;

  &lt;/body&gt;
&lt;/html&gt;
</pre>

<p>これによりエラーメッセージと、戻るためのリンクが表示されます。</p>

</div>

<div class="page"><a name="skinpartmember"></a>
<h1>スキン：メンバー詳細ページ</h1>
<p>メンバーの詳細を表示するのに使われます。</p>

<p>「メンバー詳細ページ」の非常に基本的な形：</p>

<pre>
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;私のウェブログ :: メンバーの詳細&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;

    &lt;h1&gt;&lt;%member(name)%&gt; の情報&lt;/h1&gt;
    ウェブサイト：
    &lt;a href="&lt;%member(url)%&gt;"&gt;&lt;%member(url)%&gt;&lt;/a&gt;

    &lt;h1&gt;メッセージを送る&lt;/h1&gt;
    &lt;%membermailform%&gt;

  &lt;/body&gt;
&lt;/html&gt;
</pre>

<p>これにより、メンバー名とウェブサイトのアドレスとメール送信フォームが表示されます。</p>

</div>


<div class="page"><a name="skinpartimagepopup"></a>
<h1>スキン：画像ポップアップウィンドウ</h1>
<p>メディアファイル（画像）がポップアップウィンドウでの表示を必要とする場合に使われます。このスキンはそのような使われ方をする場合のレイアウトを決定します。</p>

<p>「画像ポップアップウィンドウ」の非常に典型的な形：</p>

<pre>
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;&lt;%imagetext%&gt;&lt;/title&gt;
  &lt;style type="text/css"&gt;
   img { border: none; }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;a href="javascript:window.close();"&gt;&lt;%image%&gt;&lt;/a&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>

</div>





<div class="page"><a name="shortnames"></a>
<h1>短縮名と表示される名前</h1>
<p>ウェブログ、テンプレート、そしてスキンは名前や説明の他に短縮名を持たなくてはなりません。</p>

<p>短縮名はaからzと0か9<strong>のみ</strong>で構成され、かつスペースを含むことは<strong>できません</strong>。</p>

<p>表示される名前はメンバー名として使われます。aからz、 AからZ,、0から9とスペース（半角）が使用できます。ただし、スペースを名前の最初と最後に付けることはできません。</p>
<p>訳注：テンプレートの名前には'/'が利用できたりするので、実際にはこの限りではないようです。</p>
</div>






<div class="page"><a name="templatenew"></a>
<h1>テンプレート：新しいアイテムに付けるマーク</h1>
<p><a href="#cookies">最終訪問日時Cookieの保存</a>オプションが有効な時、「新しいアイテムに付けるマーク」テンプレートの内容が、前回訪問時から追加されたアイテムのための変数&lt;%new%&gt;に置き換えられます。変数<code>&lt;%new%&gt;</code>は、例えば<a href="#templateitems">アイテムの本体</a>テンプレートで利用できます。</p>

<p>「最終訪問日時Cookieの保存」が有効でないか、アイテムが新しくなければ、このテンプレート部品は使われません。</p>
</div>


<div class="page"><a name="strftime"></a>
<h1>時間変数の概要</h1>

<p>次の変換記述は文字列フォーマットに基づきます<small>（PHPドキュメントの<a href="http://jp.php.net/manual/ja/function.strftime.php" onclick="window.open(this.href);return false;" class="out">strftime関数</a>から持ってきたものです）</small>。より詳しい情報は<a href="http://www.opengroup.org/onlinepubs/7908799/xsh/strftime.html" onclick="window.open(this.href);return false;" class="out" title="Open Group specification">Open Group Specification</a>にあります。</p>

<ul>
	<li><strong>%a</strong> - 現在のロケールに基づく短縮された曜日の名前</li>
	<li><strong>%A</strong> - 現在のロケールに基づく完全な曜日の名前</li>
	<li><strong>%b</strong> - 現在のロケールに基づく短縮された月の名前</li>
	<li><strong>%B</strong> - 現在のロケールに基づく完全な月の名前</li>
	<li><strong>%c</strong> - 現在のロケールに基づく適当な日付と時間の表現</li>
	<li><strong>%d</strong> - 日付を10進数で(01から31) </li>
	<li><strong>%H</strong> - 時間を24時間表示の10進数で(00から23まで)</li>
	<li><strong>%I</strong> - 時間を12時間表示の10進数で(01から12までの範囲)</li>
	<li><strong>%j</strong> - 年間での日付を10進数で表現 (001から366)</li>
	<li><strong>%m</strong> - 月を10進数で表現 (01から12)</li>
	<li><strong>%M</strong> - 分を10進数で表現</li>
	<li><strong>%p</strong> - 指定した時間により 'am' または 'pm' 、または 現在のロケールに対応した文字列</li>
	<li><strong>%S</strong> - 秒を10進数で表現</li>
	<li><strong>%U</strong> - 年間で何番目の週であるかを 10 進数で表現。 年間で最初の日曜を最初の週の最初の日として数えます。</li>
	<li><strong>%W</strong> - 現在の年で何番目の週であるかを10進数で表現。 年間で最初の月曜を最初の週の最初の日として数えます。</li>
	<li><strong>%w</strong> - 曜日を10進数で表現。日曜は0になります。</li>
	<li><strong>%x</strong> - 時間を除いた日付を現在のロケールに基づき表現します。</li>
	<li><strong>%X</strong> - 日付を除いた時間を現在のロケールに基づき表現します。</li>
	<li><strong>%y</strong> - 世紀の部分を除いた年を10進数として表現。(00から99までの範囲) </li>
	<li><strong>%Y</strong> - 世紀を含む年を 10進数で表現</li>
	<li><strong>%Z</strong> - タイムゾーンまたはその名前または短縮形</li>
	<li><strong>%%</strong> - 文字リテラル'%' </li>
</ul>

</div>

<div class="page"><a name="pinguserland"></a>
<h1>Weblogs.comへのPing</h1>
<p>weblogを更新したときに、<a href="http://www.weblogs.com/" onclick="window.open(this.href);return false;" class="out">weblogs.com</a>に更新の通知（ping）を送るという選択ができます。このウェブサイトは要求する人みんなに、近頃更新されたweblogのリストを提供してくれます。多くのウェブサイトがこのデータを用いていますので、このpingを有効にすることでいくらかの新しい訪問者を得る事となるでしょう。</p>

<p class="note"><strong>注意：</strong>この機能を正しく動かすために、blogごとの「設定」にあるweblogの「URL」と「Blogの名前」を埋める必要があります。</p>

</div>

<div class="page"><a name="blogsearchable"></a>

<h1>常に検索対象に含める</h1>

<p>「検索対象にする」オプションが選択されていると、対象のweblogは<strong>常に</strong>検索対象に含まれます。たとえ検索が他のweblogで行われたとしても。（訳注：2.5からのオプション）</p>

<p>例として、'lifelog'と'linkdump'という2つのweblogを持ち、'linkdump'の「検索対象にする」が有効になっていると仮定しましょう。そうすると、'lifelog'での検索クリエーは'linkdump'も検索するのに対して、'linkdump'の検索クリエーは'linkdump'のエントリーしか検索しません。</p>


</div>


<div class="page"><a name="convertbreaks"></a>
<h1>改行を変換する</h1>
<p>デフォルトでは、Nucleusはアイテム内の改行を<code>&lt;br /&gt;</code>タグに変換します。だから改行も(X)HTMLでのアウトプットに現れるのです。</p>
<p>手馴れたユーザーや、Semantic Web（<tt>br</tt>タグは情報を付加せず、ただ記述のためにのみ使われる）のために努力するユーザーは、この機能が迷惑だと感じるかもしれません。そしてこの機能を切るのです。</p>
</div>


<div class="page"><a name="media"></a>
<h1>メディア</h1>
<p>Nucleusはメディアファイル（画像、動画、音楽など等）をウェブサイトにアップロードすることができます。</p>
<p>このためにいくつかの設定が必要となります：</p>
<ul>
	<li><strong>メディア(画像・音声)ディレクトリ</strong>：メディアファイルが保存されるサーバー上の場所（ローカルのファイルシステム）</li>
	<li><strong>メディアURL</strong>：メディアファイルのURL上の場所</li>
	<li><strong>ファイルのアップロードを許可しますか?</strong>：ファイルのアップロードを不許可にすることが可能です</li>
	<li><strong>アップロードを許可するファイルタイプ</strong>：アップロードできるファイルの拡張子群（反応が無い場合は、コンマで区切る）</li>
	<li><strong>アップロードファイルの最大サイズ</strong>：アップロードファイルのサイズに制限を設ける</li>
	<li><strong>アップロードするファイル名の頭に日付を付加する</strong>：もしこのオプションが有効なら、アップロードされたファイルには現在の日付が頭に付加されます。'bunny.jpg'という名前のファイルを2003年4月8日にアップロードしたなら、'20030408-bunny.jpg'というファイル名になります。何故こんな機能があるかというと、大量のファイルをアップロードしているときについ同じ名前を用いてしまう問題を避けるためです。</li>
</ul>

<p>メンバーはそれぞれ、自身のメディアファイルのプライベートなコレクションを持ちます。あとは、メディア・ディレクトリ下のサブディレクトリがグローバルなコレクション（メンバー間で共有）とみなされます。</p>

<p>アップロードは、少なくとも一つのblogチームに入っているメンバーでなくては行えません。悪用を予防するためです。</p>
</div>


<div class="page"><a name="protectmemnames"></a>
<h1>メンバー名の保護</h1>
<p>このオプションが有効なら、ログインしていないメンバーは登録済みメンバーと同じ名前を使ってコメントを加えることができません。このようにする理由は、ゲストによるメンバーへのなりすましを避けるためです。</p>
</div>


<div class="page"><a name="pluginurl"></a>
<h1>プラグインURL</h1>
<p>この設定はプラグイン管理領域のベースURLです。通常次のようになります。</p>
<pre>http://hostname.com/nucleus/plugins/</pre>
</div>

<div class="page"><a name="skinsurl"></a>
<h1>スキンURL</h1>
<p>この設定はNucleusスキン・ディレクトリのベースURLです。通常次のようになります。</p>
<pre>http://hostname.com/skins/</pre>
</div>

<div class="page"><a name="actionurl"></a>
<h1>action.phpへのフルURL</h1>
<p>この設定はNucleus付属のスクリプト<code>action.php</code>の絶対URLです。通常次のようになります。</p>
<pre>http://hostname.com/actions.php</pre>
</div>



<div class="page"><a name="additem"></a>
<h1>アイテムの追加</h1>
<p>weblogにアイテムを追加する際、「本文」「タイトル」「続き」にて4種類のテンプレート変数を利用することができます：</p>
<ul>
	<li><a href="#templatevar-popup">&lt;%popup(...)%&gt;</a> ポップアップ画像の挿入</li>
	<li><a href="#templatevar-image">&lt;%image(...)%&gt;</a> インライン画像の挿入</li>
	<li><a href="#templatevar-media">&lt;%media(...)%&gt;</a> メディアオブジェクトの挿入</li>
</ul>
<p>普通、これらのタグはJavaScriptツールバーにある「メディアの追加」ボタンで書き入れられます。</p>


</div>




<div class="page">
<a name="skinvar-referer"></a>
<h1>スキン変数：referer</h1>
<p>参照もとのURLを挿入（空っぽになりえます）。</p>
<h2>引数</h2>
<p>なし</p>
<h2>スキンタイプ</h2>
<p>全て</p>
<h2>例</h2>
<pre>
&lt;a href="&lt;%referer%&gt;"&gt;戻る&lt;/a&gt;
</pre>
</div>


<div class="page">
<a name="skinvar-itemid"></a>
<h1>スキン変数：itemid</h1>
<p>現在選択しているアイテムのIDを挿入</p>
<h2>引数</h2>
<p>None</p>
<h2>スキンタイプ</h2>
<p>個別アイテム</p>
<h2>例</h2>
<pre>
&lt;%itemid%&gt;
</pre>
</div>


<div class="page">
<a name="skinvar-itemlink"></a>

<h1>スキン変数：itemlink</h1>

<p>アイテムへの永続リンク（permanent link）を追加</p>

<h2>引数</h2>

<p>
	オプション（2.5から）
	<ul>
		<li><strong><em>linktext</em></strong>：記述されていると、未加工のリンクの代わりに完全な<code>&lt;a href...</code>タグがアウトプットされる</li>
	</ul>
</p>
<h2>スキンタイプ</h2>

<p>個別アイテム</p>

<h2>例</h2>

<pre>
&lt;%itemlink%&gt;
</pre>
</div>

<div class="page">
<a name="skinvar-itemtitle"></a>
<h1>スキン変数：itemtitle</h1>
<p>アイテムのタイトルを挿入。HTMLは除去され、エンティティはエンコードされる。</p>
<h2>引数</h2>
<p>なし</p>
<h2>スキンタイプ</h2>
<p>個別アイテム</p>
<h2>例</h2>
<pre>
&lt;%itemtitle%&gt;
</pre>
</div>


<div class="page">
<a name="skinvar-archivedate"></a>
<h1>スキン変数：archivedate</h1>
<p>アーカイブの日付としてフォーマット済みの日付を挿入。パラメーターなしで使うと、例えばアーカイブが2002年8月のものなら、'15 august 2002'か'august 2002'のどちらかが挿入されることになるでしょう。</p>
<h2>引数</h2>
<ul>
	<li>オプション
		<table><tr>
			<th>名前</th>
			<th>値</th>
		</tr><tr>
			<td>Locale</td>
			<td>日付がフォーマットされるときに用いられる<a href="#templatelocale">Locale</a></td>
		</tr><tr>
			<td>Format</td>
			<td>日付のフォーマット（<a href="#strftime">strftime変数</a>）</td>
		</tr></table>
	</li>
</ul>
<h2>スキンタイプ</h2>
<p>月別アーカイブ</p>
<h2>例</h2>
<pre>
Archive for &lt;%archivedate%&gt;
Archive for &lt;%archivedate(dutch)%&gt;
Archive for &lt;%archivedate(en,%B %Y)%&gt;
</pre>
</div>



<div class="page">
<a name="skinvar-blog"></a>
<h1>スキン変数：blog</h1>

<p>現在動いているblog（通常はデフォルトのもの）の一番新しいアイテム群を、スキンに挿入。</p>

<h2>引数</h2>
<p>
	必須：
	<ul>
		<li><strong>template</strong>：使用するテンプレート名</li>
	</ul>
	オプション
	<ul>
		<li><strong><em>amount</em></strong>：表示するアイテムの数（デフォルトは10）。何番目のアイテムから始めるかというオフセットをNucleusに伝えるべく含めることもできる。例えば<code>10(5)</code>と記述すると5番目から始めて10個のアイテムを表示する。</li>
		<li><strong><em>category</em></strong>：表示するカテゴリーの名前</li>
	</ul>
</p>

<h2>スキンタイプ</h2>

<p>メインの目次、個別アイテム、月別アーカイブ、月別アーカイブ一覧、検索</p>

<h2>例</h2>

<pre>
&lt;%blog(default,15)%&gt;
&lt;%blog(default,5(15))%&gt;
&lt;%blog(mytemplate)%&gt;
&lt;%blog(mytemplate,5,mycategory)%&gt;
</pre>

</div>




<div class="page">
<a name="skinvar-otherblog"></a>
<h1>スキン変数：otherblog</h1>

<p>指定されたblogの最新アイテム群をスキンに挿入。</p>

<h2>引数</h2>
<p>
	必須：
	<ul>
		<li><strong>blogname</strong>：表示するblogの名前（短縮名）</li>
		<li><strong>template</strong>：使用するテンプレート名</li>
	</ul>
	オプション：
	<ul>
		<li><strong><em>amount</em></strong>：表示するアイテムの数（デフォルトは10）。何番目のアイテムから始めるかというオフセットをNucleusに伝えるべく含めることもできる。例えば<code>10(5)</code>と記述すると5番目から始めて10個のアイテムを表示する。</li>
		<li><strong><em>category</em></strong>：表示するカテゴリーの名前</li>
	</ul>
</p>

<h2>スキンタイプ</h2>

<p>すべて</p>

<h2>例</h2>

<pre>
&lt;%otherblog(myblog,default,15)%&gt;
&lt;%otherblog(yourblog,mytemplate)%&gt;
&lt;%otherblog(yourblog,mytemplate,15,mycategory)%&gt;
&lt;%otherblog(yourblog,mytemplate,5(15),mycategory)%&gt;
</pre>

</div>









<div class="page">
<a name="skinvar-item"></a>
<h1>スキン変数：item</h1>

<p>現在選択されているアイテムを、指定されたテンプレートを用いて表示（コメントは除く）。</p>

<h2>引数</h2>
<ul>
	<li><strong>template</strong>：使用するテンプレート名</li>
</ul>

<h2>スキンタイプ</h2>

<p>個別アイテム</p>

<h2>例</h2>

<pre>
&lt;%item(mytemplate)%&gt;
</pre>

</div>









<div class="page">
<a name="skinvar-comments"></a>
<h1>スキン変数：comments</h1>

<p>現在選択されているアイテムについているコメントを、指定されたテンプレートを用いて表示。</p>

<h2>引数</h2>
<ul>
	<li><strong>template</strong>：使用するテンプレート名</li>
</ul>

<h2>スキンタイプ</h2>

<p>個別アイテム</p>

<h2>例</h2>

<pre>
&lt;%comments(mytemplate)%&gt;
</pre>

</div>







<div class="page">
<a name="skinvar-archive"></a>
<h1>スキン変数：archive</h1>

<p>選択された月と選択されているblog（普通はデフォルトのもの）のアーカイブを、指定されたテンプレートを用いて表示。</p>

<h2>引数</h2>
<p>
	必須：
	<ul>
		<li><strong>template</strong>：使用するテンプレート名</li>
	</ul>
	オプション：
	<ul>
		<li><strong><em>category</em></strong>：表示するカテゴリー名</li>
	</ul>
</p>

<h2>スキンタイプ</h2>

<p>月別アーカイブ</p>

<h2>例</h2>

<pre>
&lt;%archive(mytemplate)%&gt;
&lt;%archive(mytemplate,mycategory)%&gt;
</pre>

</div>




<div class="page">
<a name="skinvar-otherarchive"></a>
<h1>スキン変数：otherarchive</h1>

<p>選択された月のアーカイブを、指定されたblogとテンプレートを用いて表示。</p>

<h2>引数</h2>
<p>
	必須：
	<ul>
		<li><strong>blogname</strong>：使用するblogの名前（短縮名）</li>
		<li><strong>template</strong>：使用するテンプレート名</li>
	</ul>
	オプション：
	<ul>
		<li><strong><em>category</em></strong>：表示するカテゴリー名</li>
	</ul>
</p>

<h2>スキンタイプ</h2>

<p>月別アーカイブ</p>

<h2>例</h2>

<pre>
&lt;%otherarchive(myblog,mytemplate)%&gt;
&lt;%otherarchive(myblog,mytemplate,mycategory)%&gt;
</pre>

</div>







<div class="page">
<a name="skinvar-archivelist"></a>
<h1>スキン変数：archivelist</h1>

<p>現在選択しているblog（通常はデフォルトのもの）の存在するアーカイブのリストを、指定されたテンプレートを用いて表示。</p>

<h2>引数</h2>
<p>
	必須：
	<ul>
		<li><strong>template</strong>：使用するテンプレート名</li>
	</ul>
	オプション：
	<ul>
		<li><strong><em>category</em></strong>：表示するカテゴリー名</li>
		<li><strong><em>limit</em></strong>：表示するリンク数の制限（例えば、過去3ヶ月分へのリンクしか表示させたくないときなど）</li>
	</ul>
</p>

<h2>スキンタイプ</h2>

<p>メインの目次、月別アーカイブ、月別アーカイブ一覧、検索、個別アイテム</p>

<h2>例</h2>

<pre>
&lt;%archivelist(yourblog,mytemplate)%&gt;
&lt;%archivelist(yourblog,mytemplate,mycategory)%&gt;
</pre>

</div>

<div class="page">
<a name="skinvar-archivedaylist"></a>
<h1>スキン変数：archivedaylist</h1>

<p>スキン変数<a href="#skinvar-archivelist">archivelist</a>と同様ですが、<em>月</em>ごとの代わりに<em>日</em>ごとのエントリーを表示。</p>

<h2>引数</h2>
<p>
	必須：
	<ul>
		<li><strong>template</strong>：使用するテンプレート名</li>
	</ul>
	オプション：
	<ul>
		<li><strong><em>category</em></strong>：表示するカテゴリー名</li>
		<li><strong><em>limit</em></strong>表示するリンク数の制限（例えば、過去3日分へのリンクしか表示させたくないときなど）</li>
	</ul>
</p>

<h2>スキンタイプ</h2>

<p>メインの目次、月別アーカイブ、月別アーカイブ一覧、検索、個別アイテム</p>


<h2>例</h2>

<pre>
&lt;%archivedaylist(mytemplate)%&gt;
&lt;%archivedaylist(mytemplate,mycategory)%&gt;
</pre>

</div>


<div class="page">
<a name="skinvar-otherarchivedaylist"></a>
<h1>スキン変数：otherarchivedaylist</h1>

<p>スキン変数<a href="#skinvar-otherarchivelist">otherarchivelist</a>と同様ですが、<em>月</em>ごとの代わりに<em>日</em>ごとのエントリーを表示。</p>

<h2>引数</h2>
<p>
	必須：
	<ul>
		<li><strong>blogname</strong>：blogの名前（短縮名）</li>
		<li><strong>template</strong>：使用するテンプレート名</li>
	</ul>
	Optional
	<ul>
		<li><strong><em>category</em></strong>：表示するカテゴリー名</li>
	</ul>
</p>

<h2>スキンタイプ</h2>

<p>すべて</p>

<h2>例</h2>

<pre>
&lt;%otherarchivedaylist(yourblog,mytemplate)%&gt;
&lt;%otherarchivedaylist(yourblog,mytemplate,mycategory)%&gt;
</pre>

</div>



<div class="page">
<a name="skinvar-otherarchivelist"></a>
<h1>スキン変数：otherarchivelist</h1>

<p>指定されたblogの存在するアーカイブのリストを、指定されたテンプレートを用いて表示。</p>

<h2>引数</h2>
<p>
	必須：
	<ul>
		<li><strong>blogname</strong>：blogの名前（短縮名）</li>
		<li><strong>template</strong>：使用するテンプレート名</li>
	</ul>
	Optional
	<ul>
		<li><strong><em>category</em></strong>：表示するカテゴリー名</li>
	</ul>
</p>

<h2>スキンタイプ</h2>

<p>すべて</p>

<h2>例</h2>

<pre>
&lt;%otherarchivelist(yourblog,mytemplate)%&gt;
&lt;%otherarchivelist(yourblog,mytemplate,mycategory)%&gt;
</pre>

</div>



<div class="page">
<a name="skinvar-categorylist"></a>
<h1>スキン変数：categorylist</h1>

<p>blog（デフォルトは選択されているblog）のカテゴリーリストを、指定されたテンプレートを用いて挿入。</p>

<h2>引数</h2>
<p>
	必須：
	<ul>
		<li><strong>template</strong>：使用するテンプレート名</li>
	</ul>
	オプション：
	<ul>
		<li><strong><em>blogname</em></strong>：使用するblogの短縮名</li>
	</ul>
</p>

<h2>スキンタイプ</h2>

<p>メインの目次、月別アーカイブ、月別アーカイブ一覧、検索、個別アイテム</p>

<h2>例</h2>

<pre>
&lt;%categorylist(mytemplate)%&gt;
&lt;%categorylist(mytemplate,myweblog)%&gt;
</pre>

</div>



<div class="page">
<a name="skinvar-category"></a>
<h1>スキン変数：category</h1>

<p>現在選択されているカテゴリーに関するいくつかの情報を挿入。カテゴリーが選択されていないときは何も表示しない。</p>

<h2>引数</h2>
<p>
	オプション：
	<ul>
		<li><strong><em>type</em></strong>：どの情報を内包させるのか。<b>name</b>-カテゴリー名（デフォルト）、<b>desc</b>-カテゴリーの説明、<b>id</b>-カテゴリーのID、のどれかとなる。</li>
	</ul>
</p>

<h2>スキンタイプ</h2>

<p>すべて</p>

<h2>例</h2>

<pre>
&lt;%category%&gt;
&lt;%category(id)%&gt;
&lt;%category(desc)%&gt;
&lt;%category(name)%&gt;
</pre>

</div>


<div class="page">
<a name="skinvar-ifcat"></a>
<h1>スキン変数：ifcat</h1>

<p class="deprecated">Nucleusのバージョン2.0以降では使いません。<a href="#skinvar-if">&lt;%if(category)%&gt;</a>を代わりに使ってください。</p>

<h2>引数</h2>
<p>
	なし
	<ul>
		<li><em>text</em>：表示するテキスト</li>
	</ul>
</p>

<h2>スキンタイプ</h2>

<p>すべて</p>

<h2>例</h2>

<pre>
&lt;%ifcat(Current Category: )%&gt;&lt;%category%&gt;
</pre>

</div>




<div class="page">
<a name="skinvar-searchresults"></a>
<h1>スキン変数：searchresults</h1>

<p>現在のクリエーに対する検索結果を表示。</p>

<h2>引数</h2>
<p>
	必須：
	<ul>
		<li><strong>template</strong>：使用するテンプレート名</li>
	</ul>
	オプション：
	<ul>
		<li><strong><em>maxresults</em></strong>：表示する結果の最大数</li>
	</ul>
</p>

<h2>スキンタイプ</h2>

<p>検索</p>

<h2>例</h2>

<pre>
&lt;%searchresults(mytemplate)%&gt;
</pre>

</div>




<div class="page">
<a name="skinvar-othersearchresults"></a>
<h1>スキン変数：othersearchresults</h1>

<p>指定されたblogの現在のクリエーに対する検索結果を、指定されたテンプレートを用いて表示。</p>

<h2>引数</h2>
<p>
	必須：
	<ul>
		<li><strong>blogname</strong>：使用するblogの名前（短縮名）</li>
		<li><strong>template</strong>：使用するテンプレート名</li>
	</ul>
	Optional:
	<ul>
		<li><strong><em>maxresults</em></strong>：表示する結果の最大数</li>
	</ul>
</p>

<h2>スキンタイプ</h2>

<p>検索</p>

<h2>例</h2>

<pre>
&lt;%othersearchresults(myblog,mytemplate)%&gt;
</pre>

</div>







<div class="page">
<a name="skinvar-query"></a>
<h1>スキン変数：query</h1>

<p>現在の検索クリエーを挿入。</p>

<h2>引数</h2>
<p>なし</p>

<h2>スキンタイプ</h2>

<p>検索</p>

<h2>例</h2>

<pre>
&lt;%query%&gt;
</pre>

</div>








<div class="page">
<a name="skinvar-version"></a>
<h1>スキン変数：version</h1>

<p>現在使用しているNucleusのバージョンを挿入。</p>

<h2>引数</h2>

<p>なし</p>

<h2>スキンタイプ</h2>

<p>すべて</p>

<h2>例</h2>

<pre>
&lt;%version%&gt;
</pre>

</div>








<div class="page">
<a name="skinvar-previtem"></a>
<h1>スキン変数：previtem</h1>

<p>そのblogにおける一つ前のアイテムのIDを挿入。</p>

<h2>引数</h2>
<p>なし</p>

<h2>スキンタイプ</h2>

<p>個別アイテム</p>

<h2>例</h2>

<pre>
&lt;%previtem%&gt;
</pre>

</div>






<div class="page">
<a name="skinvar-nextitem"></a>
<h1>スキン変数：nextitem</h1>

<p>そのblogにおける一つ先のアイテムのIDを挿入。</p>

<h2>引数</h2>
<p>なし</p>

<h2>スキンタイプ</h2>

<p>個別アイテム</p>

<h2>例</h2>

<pre>
&lt;%nextitem%&gt;
</pre>

</div>


<div class="page">
<a name="skinvar-nextitemtitle"></a>
<h1>スキン変数：nextitemtitle</h1>

<p>そのblogにおける一つ先のアイテムのタイトルを挿入。</p>

<h2>引数</h2>
<p>なし</p>

<h2>スキンタイプ</h2>

<p>個別アイテム</p>

<h2>例</h2>

<pre>
&lt;%nextitemtitle%&gt;
</pre>

</div>


<div class="page">
<a name="skinvar-previtemtitle"></a>
<h1>スキン変数：previtemtitle</h1>

<p>そのblogにおける一つ前のアイテムのタイトルを挿入。</p>

<h2>引数</h2>
<p>なし</p>

<h2>スキンタイプ</h2>

<p>個別アイテム</p>

<h2>例</h2>

<pre>
&lt;%previtemtitle%&gt;
</pre>

</div>




<div class="page">
<a name="skinvar-prevarchive"></a>
<h1>スキン変数：prevarchive</h1>

<p>一日前か一ヶ月前かどちらかのアーカイブに相当する、<code>アーカイブ</code>標識を挿入。この値はアーカイブを選択するURL内で利用することができる。</p>

<ul>
	<li>もし表示されているアーカイブが一日単位なら、値は<code>YYYY-MM-DD</code>という形をとる</li>
	<li>もし表示されているアーカイブが一ヶ月単位なら、値は<code>YYYY-MM</code>という形を取る</li>
</ul>

<h2>引数</h2>
<p>なし</p>

<h2>スキンタイプ</h2>

<p>月別アーカイブ</p>

<h2>例</h2>

<pre><code>&lt;a href="index.php?archive=&lt;%prevarchive%&gt;"&gt;....</code></pre>

</div>






<div class="page">
<a name="skinvar-nextarchive"></a>
<h1>スキン変数：nextarchive</h1>

<p>一日先か一ヶ月先かどちらかのアーカイブに相当する、<code>アーカイブ</code>標識を挿入。この値はアーカイブを選択するURL内で利用することができる。
</p>

<ul>
	<li>もし表示されているアーカイブが一日単位なら、値は<code>YYYY-MM-DD</code>という形をとる</li>
	<li>もし表示されているアーカイブが一ヶ月単位なら、値は<code>YYYY-MM</code>という形を取る</li>
</ul>

<h2>引数</h2>
<p>なし</p>

<h2>スキンタイプ</h2>

<p>月別アーカイブ</p>

<h2>例</h2>

<pre><code>&lt;a href="index.php?archive=&lt;%nextarchive%&gt;"&gt;....</code></pre>

</div>


<div class="page">
<a name="skinvar-archivetype"></a>
<h1>スキン変数：archivetype</h1>

<p><tt>日単位</tt>か<tt>月単位</tt>、どちらのアーカイブタイプが現在表示されているのか示す。</p>

<h2>引数</h2>
<p>なし</p>

<h2>スキンタイプ</h2>

<p>月別アーカイブ</p>

</div>





<div class="page">
<a name="skinvar-todaylink"></a>
<h1>スキン変数：todaylink</h1>

<p>weblogのメインページへのリンクを挿入。現在選択されているblogとカテゴリーが考慮される。</p>

<h2>引数</h2>
<p>
	オプション：（2.5からです）
	<ul>
		<li><strong><em>linktext</em></strong>：記述されていると、未加工のリンクの代わりに完全な<code>&lt;a href...</code>タグがアウトプットされる</li>
	</ul>
</p>


<h2>スキンタイプ</h2>

<p>すべて</p>

<h2>例</h2>

<pre>
&lt;%todaylink%&gt;
</pre>

</div>







<div class="page">
<a name="skinvar-archivelink"></a>
<h1>スキン変数：archivelink</h1>

<p>現在選択しているblogとカテゴリー（blogが選択されていないときはデフォルトのblog）のアーカイブへのリンクを挿入。</p>

<h2>引数</h2>

<p>
	オプション：（2.5から）
	<ul>
		<li><strong><em>linktext</em></strong>：記述されていると、未加工のリンクの代わりに完全な<code>&lt;a href...</code>タグがアウトプットされる</li>
	</ul>
</p>


<h2>スキンタイプ</h2>

<p>すべて</p>

<h2>例</h2>

<pre>
&lt;%archivelink%&gt;
</pre>

</div>






<div class="page">
<a name="skinvar-nextlink"></a>
<h1>スキン変数：nextlink</h1>

<p>アイテムページにおいては一つ先のアイテムへの、アーカイブページにおいては一つ先のアーカイブへのリンクを挿入。</p>

<h2>引数</h2>
<p>
	オプション：（2.5から）
	<ul>
		<li><strong><em>linktext</em></strong>：記述されていると、未加工のリンクの代わりに完全な<code>&lt;a href...</code>タグがアウトプットされる</li>
		<li><strong><em>amount</em></strong>：「検索」と「メインの目次」において：前または先のページに進んだときに表示されるアイテムの数</li>
	</ul>
</p>


<h2>スキンタイプ</h2>

<p>個別アイテム、月別アーカイブ、検索、メインの目次</p>

<h2>例</h2>

<pre>
&lt;%nextlink%&gt;
</pre>

</div>








<div class="page">
<a name="skinvar-prevlink"></a>
<h1>スキン変数：prevlink</h1>

<p>アイテムページにおいては一つ前のアイテムへの、アーカイブページにおいては一つ前のアーカイブへのリンクを挿入。「検索」と「メインの目次」でも使える。</p>

<h2>引数</h2>
<p>
	オプション：（2.5から）
	<ul>
		<li><strong><em>linktext</em></strong>：記述されていると、未加工のリンクの代わりに完全な<code>&lt;a href...</code>タグがアウトプットされる</li>
		<li><strong><em>amount</em></strong>：「検索」と「メインの目次」において：前または先のページに進んだときに表示されるアイテムの数</li>
	</ul>
</p>

<h2>スキンタイプ</h2>

<p>個別アイテム、月別アーカイブ、検索、メインの目次</p>

<h2>例</h2>

<pre>
&lt;%prevlink%&gt;
</pre>

</div>








<div class="page">
<a name="skinvar-errormessage"></a>
<h1>スキン変数：errormessage</h1>

<p>エラーが発生したときに、それに相当するメッセージを挿入。</p>

<h2>引数</h2>
<p>なし</p>

<h2>スキンタイプ</h2>

<p>エラー</p>

<h2>例</h2>

<pre>
&lt;%errormessage%&gt;
</pre>

</div>








<div class="page">
<a name="skinvar-imagetext"></a>
<h1>スキン変数：imagetext</h1>

<p class="deprecated">このスキン変数はNucleusバージョン2.0以降使いません。代わりに<a href="#skinvar-image"><code>&lt;%image(caption)%&gt;</code></a>を使ってください。</p>

<p>ポップアップ画像に見出しテキストをつける</p>

<h2>引数</h2>
<p>なし</p>

<h2>スキンタイプ</h2>

<p>画像ポップアップウィンドウ</p>

<h2>例</h2>

<pre>
&lt;%imagetext%&gt;
</pre>

</div>



<div class="page">
<a name="skinvar-image"></a>
<h1>スキン変数：image</h1>

<p>選択された画像を挿入（画像ポップアップ用）</p>

<h2>引数</h2>

<p>オプション：</p>
<ul>
	<li>
		<em>タイプ</em>
		<table><tr>
			<td><strong>imgtag</strong>（デフォルト）</td>
			<td>完全なXHTMLタグ <code>&lt;img ... /&gt;</code></td>
		</tr><tr>
			<td><strong>url</strong></td>
			<td>画像ファイルへのURL</td>
		</tr><tr>
			<td><strong>width</strong></td>
			<td>イメージの幅</td>
		</tr><tr>
			<td><strong>height</strong></td>
			<td>イメージの高さ</td>
		</tr><tr>
			<td><strong>caption</strong></td>
			<td>画像の見出し（画像と共に表示されるテキスト）</td>
		</tr></table>
	</li>
</ul>

<h2>スキンタイプ</h2>

<p>画像ポップアップウィンドウ</p>

<h2>例</h2>

<pre>
&lt;%image%&gt;
</pre>

</div>


<div class="page">
<a name="skinvar-vars"></a>
<h1>スキン変数：vars</h1>

<p class="deprecated">このスキン変数はNucleusバージョン2.0以降使いません。<a href="#skinvar-itemid">スキン変数：itemid</a>を使ってこのHTMLをあなた自身で挿入することはたいした手間ではないでしょう。</p>

<p>itemidの入り隠しフォームのインプット欄を挿入。</p>

<code>&lt;input type="hidden" name="itemid" value="<strong>1234</strong>" /&gt;</code>

<h2>引数</h2>
<p>なし</p>

<h2>スキンタイプ</h2>

<p>個別アイテム</p>


</div>






<div class="page">
<a name="skinvar-sitevar"></a>
<h1>スキン変数：sitevar</h1>

<p>サイト変数をインクルードする。</p>

<h2>引数</h2>
<ul>
	<li><strong>タイプ</strong>：表示される変数の名前
	<ul>
		<li><em>url</em>：サイトのURL</li>
		<li><em>name</em>：サイトの名前</li>
		<li><em>admin</em>：管理者のメールアドレス</li>
	</ul>
	</li>
</ul>

<h2>スキンタイプ</h2>

<p>すべて</p>

<h2>例</h2>

<pre>
&lt;%sitevar(name)%&gt;
&lt;%sitevar(url)%&gt;
&lt;a href="mailto:&lt;%sitevar(email)%&gt;"&gt;管理人&lt;/a&gt;
</pre>

</div>






<div class="page">
<a name="skinvar-blogsetting"></a>
<h1>スキン変数：blogsetting</h1>

<p>現在選択しているblog（普通はデフォルトのもの）の詳細な設定を挿入。</p>

<h2>引数</h2>
<ul>
	<li><strong>タイプ</strong>：どの設定が入れられるか
	    <ul>
	    	<li><em>id</em>：該当blogのID</li>
	    	<li><em>url</em>：該当blogのURL</li>
	    	<li><em>name</em>：該当blogの名前（長い名前）</li>
	    	<li><em>desc</em>：該当blogの説明</li>
	    </ul>
	</li>
</ul>

<h2>スキンタイプ</h2>

<p>メインの目次、月別アーカイブ、月別アーカイブ一覧、検索、個別アイテム、メンバー詳細</p>

<h2>例</h2>

<pre>
&lt;%blogsetting(name)%&gt;
&lt;%blogsetting(id)%&gt;
&lt;%blogsetting(desc)%&gt;
&lt;a href="&lt;%blogsetting(url)%&gt;"&gt;...&lt;/a&gt;
</pre>

</div>






<div class="page">
<a name="skinvar-member"></a>
<h1>スキン変数：member</h1>

<p>現在ログインしているメンバーに関する情報を挿入。メンバーの詳細ページにおいては、要求されたメンバーについての同じ情報を表示する追加オプションがある。</p>

<p>ログインしていない訪問者の場合は、<em>your...</em>のパラメーターは何も挿入しない。</p>

<h2>引数</h2>
<ul>
	<li><strong>タイプ</strong>：表示される情報
		<p>ログインしたメンバーの情報：</p>
	    <ul>
	    	<li><em>yourname</em>：メンバーのニックネーム（ログインに使うもの）</li>
	    	<li><em>yourrealname</em>：メンバーのフルネーム</li>
	    	<li><em>yournotes</em>：メンバーが自身のために設定できるその他の情報（備考欄）</li>
	    	<li><em>yoururl</em>：メンバーのウェブサイトURL</li>
	    	<li><em>youremail</em>：メンバーのメールアドレス</li>
	    	<li><em>yourid</em>：メンバーのID</li>
	    </ul>
	    <p>要求されたメンバーの情報（「メンバー詳細」のページでのみ利用可）：</p>
	    <ul>
	    	<li><em>name</em>：メンバーのニックネーム（ログインに使うもの）</li>
	    	<li><em>realname</em>：メンバーのフルネーム</li>
	    	<li><em>notes</em>：メンバーが自身のために設定できるその他の情報（備考欄）</li>
	    	<li><em>url</em>：メンバーのウェブサイトURL</li>
	    	<li><em>email</em>：メンバーのメールアドレス</li>
	    	<li><em>id</em>：メンバーのID</li>
	    </ul>
	</li>
</ul>

<h2>スキンタイプ</h2>

<p>すべて</p>

<h2>例</h2>

<pre><code>
&lt;%if(loggedin)%&gt;
こんにちは&lt;%member(yourrealname)%&gt;さん
&lt;%endif%&gt;
</code></pre>

</div>






<div class="page">
<a name="skinvar-preview"></a>
<h1>スキン変数：preview</h1>

<p>指定されたテンプレートを用いて、ページ内にアイテムのプレビューを挿入。（<a href="#skinvar-additemform">additemform</a>に関連して使われる）</p>

<h2>引数</h2>
<ul>
	<li><strong>template</strong>：使用されるテンプレート名</li>
</ul>

<h2>スキンタイプ</h2>

<p>メインの目次</p>

<h2>例</h2>

<pre>
&lt;%preview(mytemplate)%&gt;
</pre>

</div>



<div class="page">
<a name="skinvar-adminurl"></a>
<h1>スキン変数：adminurl</h1>

<p>管理領域への完全なURLを挿入。</p>

<h2>引数</h2>
<p>なし</p>

<h2>スキンタイプ</h2>

<p>すべて</p>

<h2>例</h2>

<pre>
&lt;a href="&lt;%adminurl%&gt;"&gt;管理領域&lt;/a&gt;
</pre>

</div>




<div class="page">
<a name="skinvar-additemform"></a>
<h1>スキン変数：additemform</h1>

<p>現在選択しているblog（普通はデフォルトのもの）へのアイテム追加フォームを表示。ほとんどの場合、<a href="#skinvar-preview">preview</a>と共に使われる。</p>

<h2>引数</h2>
<p>なし</p>

<h2>スキンタイプ</h2>

<p>メインの目次</p>

<h2>例</h2>

<pre>
&lt;%additemform%&gt;
</pre>

</div>






<div class="page">
<a name="skinvar-include"></a>
<h1>スキン/テンプレート変数：include</h1>

<p>テキストファイルをアウトプット時に取り込む。ファイルの中身はなんらかの構文解析にかけられることは無いので、スキン/テンプレート変数やPHPコードを使うことはできない。（もしインクルード時に展開させたいなら、<a href="#skinvar-parsedinclude">parsedinclude</a>と<a href="#skinvar-phpinclude">phpinclude</a>をみること）</p>

<h2>引数</h2>
<ul>
	<li><strong>filename</strong>：取り込むファイルの名前（index.phpからの相対位置でも絶対位置でもよい）。ここでURLを使うこともできることに注目を。</li>
</ul>

<h2>注意</h2>
<ul>
	<li>このタグは<a href="#parser-properties">パーサー設定の<code>IncludeMode</code>と<code>IncludePrefix</code></a>に影響されます。</li>
</ul>

<h2>スキンタイプ</h2>

<p>すべて</p>

<h2>例</h2>

<pre>
&lt;%include(filename.txt)%&gt;
&lt;%include(/home/user/myself/filename.txt)%&gt;
&lt;%include(http://mydomain.com/filename.html)%&gt;
</pre>

</div>







<div class="page">
<a name="skinvar-phpinclude"></a>
<h1>スキン/テンプレート変数：phpinclude</h1>

<p>PHPファイルをアウトプット時にインクルードする。ファイルの中身はPHPとして解釈されるので注意すること。Nucleusのスキン/テンプレート変数は展開<b>されない</b>。（他のインクルードオプションとして、<a href="#skinvar-parsedinclude">parsedinclude</a>と<a href="#skinvar-include">include</a>をみること）</p>

<h2>引数</h2>
<ul>
	<li><strong>filename</strong>：取り込むファイルの名前（index.phpからの相対位置でも絶対位置でもよい）。</li>
</ul>

<h2>注意</h2>
<ul>
	<li>このタグは<a href="#parser-properties">パーサー設定の<code>IncludeMode</code>と<code>IncludePrefix</code></a>に影響されます。</li>
	<li>ファイルはスタンダードなphpのコマンド<code>include()</code>を使ってインクルードされます。このコマンドは<em>内部の</em>クラス・メソッドから呼び出されるので、自身で<strong>アクセスしたいグローバル変数を宣言する必要があります</strong>。多くの<a href="#skinvar-phpinclude-vars">標準的な変数</a>はNucleusによって自動的にグローバルが宣言されます。</li>
</ul>

<h2>スキンタイプ</h2>

<p>すべて</p>

<h2>例</h2>

<pre><code>&lt;%phpinclude(filename.php)%&gt;
&lt;%phpinclude(/home/user/myself/filename.php)%&gt;</code></pre>

</div>



<div class="page">
<a name="skinvar-phpinclude-vars"></a>
<h1>スキン/テンプレート変数：phpinclude：vars</h1>

<p>次のグローバル変数は、スキン/テンプレート変数の<a href="#skinvar-phpinclude">phpinclude</a>によってインクルードされたファイルからアクセスできるものです：</p>

<p>
$GATEWAY_INTERFACE, $SERVER_NAME, $SERVER_SOFTWARE
<br />$SERVER_PROTOCOL, $REQUEST_METHOD, $QUERY_STRING
<br />$DOCUMENT_ROOT, $HTTP_ACCEPT, $HTTP_ACCEPT_CHARSET
<br />$HTTP_ACCEPT_ENCODING, $HTTP_ACCEPT_LANGUAGE
<br />$HTTP_CONNECTION, $HTTP_HOST, $HTTP_REFERER
<br />$HTTP_USER_AGENT, $REMOTE_ADDR, $REMOTE_PORT
<br />$SCRIPT_FILENAME, $SERVER_ADMIN, $SERVER_PORT
<br />$SERVER_SIGNATURE, $PATH_TRANSLATED, $SCRIPT_NAME
<br />$REQUEST_URI, $argv, $argc, $PHP_SELF
<br />$HTTP_COOKIE_VARS, $HTTP_GET_VARS, $HTTP_POST_VARS
<br />$HTTP_POST_FILES, $HTTP_ENV_VARS, $HTTP_SERVER_VARS
<br />$HTTP_SESSION_VARS, $PATH_INFO, $HTTPS
<br />$HTTP_RAW_POST_DATA, $HTTP_X_FORWARDED_FOR
</p>

<p>他の変数に関しては、'<tt>global $varname;</tt>'をきっちりとコードに加える必要があります。</p>

</div>



<div class="page">
<a name="skinvar-parsedinclude"></a>
<h1>スキン/テンプレート変数：parsedinclude</h1>

<p>ファイルをアウトプット時に取り込む。ファイルの中身はNucleusのスキン/テンプレートによる構文解析にかけられるので、スキン/テンプレート変数を使うことができる。（他のインクルードオプションとして、<a href="#skinvar-phpinclude">phpinclude</a>と<a href="#skinvar-include">include</a>をみること）</p>

<h2>引数</h2>
<ul>
	<li><strong>filename</strong>：取り込むファイルの名前（index.phpからの相対位置でも絶対位置でもよい）。</li>
</ul>

<h2>注意</h2>
<ul>
	<li>このタグは<a href="#parser-properties">パーサー設定の<code>IncludeMode</code>と<code>IncludePrefix</code></a>に影響されます。</li>
	<li>インクルードしたファイルの中からでも、再び<code>&lt;%parsedinclude(filename)%&gt;</code>を呼び出すことができます。無限ループを避けるため、行えるのは最大で3段階となります。</li>
</ul>


<h2>スキンタイプ</h2>

<p>すべて</p>

<h2>例</h2>

<pre>
&lt;%parsedinclude(filename.txt)%&gt;
&lt;%parsedinclude(/home/user/myself/filename.txt)%&gt;
</pre>

</div>






<div class="page">
<a name="skinvar-plugin"></a>
<h1>スキン/テンプレート変数：plugin</h1>

<p>プラグインを呼び出す。</p>

<h2>引数</h2>
<ul>
	<li>
		<p>必須：</p>
		<table><tr>
			<th>名前</th>
			<th>内容</th>
		</tr><tr>
			<td>PlugName</td>
			<td>呼び出されるプラグインの名前。<strong>この名前は注意をはらうべき部分</strong></td>
		</tr></table>
	</li>
	<li><p>プラグインによっては、その他のパラメーターが追加される。</p></li>
</ul>

<h2>注意</h2>
<ul>
	<li>プラグイン名が既存の変数とぶつからない場合、<code>&lt;%PluginName(parameters)%&gt;</code>を用いて直接呼び出すことができます。</li>
</ul>

<h2>スキンタイプ</h2>

<p>すべて</p>

<h2>例</h2>

<pre>
&lt;%plugin(Calendar)%&gt;
&lt;%plugin(LastComments,myweblog)%&gt;
&lt;%LastComments(myweblog)%&gt;
</pre>

</div>




<div class="page">
<a name="skinvar-loginform"></a>
<h1>スキン変数：loginform</h1>

<p>ログインフォームを加えるか、"ログイン中:karma !(ログアウト)"メッセージを表示する</p>

<h2>引数</h2>
<p>なし</p>

<h2>スキンタイプ</h2>

<p>すべて</p>

<h2>例</h2>

<pre><code>&lt;%loginform%&gt;</code></pre>

</div>




<div class="page">
<a name="skinvar-commentform"></a>
<h1>スキン変数：commentform</h1>

<p>アイテムページにコメントフォームを加える。</p>

<h2>引数</h2>
<p>
	オプション：
	<ul>
		<li><strong><em>destinationurl</em></strong>：コメント追加後にリダイレクトさせるURLを設定（デフォルトでは、投稿したアイテムの「アイテム詳細」ページにリダイレクトされる）</li>
	</ul>
</p>

<h2>スキンタイプ</h2>

<p>個別アイテム</p>

<h2>例</h2>

<pre>
&lt;%commentform%&gt;
&lt;%commentform(http://host/thanks.html)%&gt;
</pre>

</div>



<div class="page">
<a name="skinvar-set"></a>
<h1>スキン/テンプレート変数 set</h1>

<p><a href="#parser-properties" title="A list of available parser properties">パーサーのプロパティ</a>を設定する。</p>

<h2>引数</h2>
<p>
	<ul>
		<li><strong>property</strong>：プロパティの名前</li>
		<li><strong>value</strong>：プロパティの値</li>
	</ul>
</p>

<h2>スキンタイプ</h2>

<p>すべて</p>

<h2>例</h2>

<pre>
&lt;%set(IncludeMode,skindir)%&gt;
&lt;%set(IncludePrefix,somedir/)%&gt;
</pre>

</div>


<div class="page">
<a name="skinvar-skinfile"></a>
<h1>スキン/テンプレート変数：skinfile</h1>

<p>インポートされたスキンから、スキンのURLに相対リンクを張るときに使う。最良の結果を得るためには、<a href="#parser-properties">パーサーのプロパティ</a><tt>IncludePrefix</tt>と共に使うこと。</p>

<h2>引数</h2>
<p>
	<ul>
		<li><strong>filename</strong>：ファイルの名前（正確なURLに変換される）</li>
	</ul>
</p>

<h2>スキンタイプ</h2>

<p>すべて</p>

<h2>例</h2>

<pre>
&lt;%skinfile(mystyle.css)%&gt;
</pre>

</div>



<div class="page">
<a name="skinvar-skinname"></a>
<h1>スキン/テンプレート変数：skinname</h1>

<p>現在使用しているスキンの名前を挿入。</p>

<h2>引数</h2>
<p>なし</p>

<h2>スキンタイプ</h2>

<p>すべて</p>

<h2>例</h2>

<pre>
&lt;%skinname%&gt;
</pre>

</div>



<div class="page">
<a name="skinvar-if"></a>
<a name="skinvar-else"></a>
<a name="skinvar-endif"></a>
<h1>スキン変数：if/else/endif</h1>

<p>決まった条件を満たしているときのみ、コンテンツ・ブロックを挿入。</p>

<h2>引数</h2>
<p>スキン変数<code>if</code>のみオプションがある</p>


<ul>
	<li><strong>type</strong>：条件の種類</li>
	<li><em>name</em>：オプションの名前（必須ではない）</li>
	<li><em>value</em>：チェックする値（必須ではない）</li>
</ul>

<h2>条件の種類</h2>

<ul>
	<li><strong>category</strong>：カテゴリーを選択しているとき、条件は満たされる</li>
	<li><strong>blogsetting</strong>：blog設定の<em>name</em>項目の値が<em>value</em>と一致しているか調べる（nameはSQLテーブルnucleus_blogにあるカラム名）</li>
	<li><strong>loggedin</strong>：訪問中のメンバーが現在ログインしていれば、条件は満たされる</li>
	<li><strong>onteam</strong>：訪問中のメンバーがログインしており、かつ現在いるblog（あるいは<em>name</em>パラメーターで指示されたblog）のチームに入っていれば、条件は満たされる</li>
	<li><strong>previtem</strong>：もし現在のweblogにより新しいアイテムがあるのなら真となる（スキンタイプは個別アイテム 2.5から） (item skintype)</li>
	<li><strong>nextitem</strong>：もし現在のweblogにより古いアイテムがあるのなら真となる（スキンタイプは個別アイテム 2.5から）</li>
	<li><strong>skintype</strong>：現在のスキンタイプが<em>value</em>（index, search, item, archive, archivelist, ...）と一致するか調べる（URLでの表記となることに注意 2.5から）</li>
	<li><strong>hasplugin</strong>：プラグインがインストールされているか、またはプラグインのオプションが特定の値をとっているか調べる
		<ul>
			<li><strong>hasplugin,PluginName</strong>：該当プラグインが存在すれば、条件は満たされる</li>
			<li><strong>hasplugin,PluginName,OptionName</strong>：プラグインのオプションが「いいえ」に設定されてなければ、条件は満たされる</li>
			<li><strong>hasplugin,PluginName,OptionName=value</strong>：プラグインのオプションが特定の値に設定されていれば、条件は満たされる</li>
		</ul>
	</li>
</ul>

<h2>スキンタイプ</h2>

<p>すべて</p>

<h2>例</h2>

<pre>
&lt;%if(loggedin)%&gt;
おかえりなさい！
&lt;%else%&gt;
ようこそ！
&lt;%endif%&gt;
</pre>

</div>






<div class="page">
<a name="skinvar-membermailform"></a>
<h1>スキン変数：membermailform</h1>

<p>（メンバー詳細のページで）詳細が表示されているメンバーに対して、他のログインしているメンバーがメッセージを送ることのできるフォームを表示。</p>

<h2>引数</h2>
<p>
	オプション：
	<ul>
		<li><strong><em>rows</em></strong>：ボックスの横列の数値（デフォルトは10）</li>
		<li><strong><em>cols</em></strong>：ボックスの縦列の数値（デフォルトは40）</li>
		<li><strong><em>destination url</em></strong>：メッセージが送信された後リダイレクトするURL</li>
	</ul>
</p>

<h2>スキンタイプ</h2>

<p>メンバー詳細</p>

<h2>例</h2>

<pre>
&lt;%membermailform%&gt;
</pre>

</div>






<div class="page">
<a name="skinvar-searchform"></a>
<h1>スキン変数：searchform</h1>

<p>現在のblogに対する検索フォームを表示。</p>

<h2>引数</h2>
<p>
	オプション：
	<ul>
		<li><strong><em>blogname</em></strong>：検索を実行するblogの名前（短縮名）</li>
	</ul>
</p>

<h2>スキンタイプ</h2>

<p>メインの目次、月別アーカイブ、月別アーカイブ一覧、個別アイテム</p>

<h2>例</h2>

<pre>
&lt;%searchform%&gt;
&lt;%searchform(otherweblog)%&gt;
</pre>

</div>






<div class="page">
<a name="skinvar-nucleusbutton"></a>
<h1>スキン変数：nucleusbutton</h1>

<p><a href="http://nucleuscms.org/" class="out" onclick="window.open(this.href);return false;" title="Nucleus website (opens in new window)">Nucleusウェブサイト</a>へのリンクが付いた、ボタン（あるいはバナー）を挿入。</p>

<h2>引数</h2>
<p>
	オプション：
	<ul>
		<li><strong><em>imgurl</em></strong>：画像のURL（デフォルトのものを使わない場合）</li>
		<li><strong><em>imgwidth</em></strong>：画像の横幅（ピクセル単位）</li>
		<li><strong><em>imgheight</em></strong>: 画像の高さ（ピクセル単位）</li>
	</ul>
</p>

<h2>注意</h2>
<ul>
	<li>このタグは<a href="#parser-properties">パーサー設定の<code>IncludeMode</code>と<code>IncludePrefix</code></a>に影響されます。</li>
</ul>

<h2>スキンタイプ</h2>

<p>すべて</p>

<h2>例</h2>

<pre>
&lt;%nucleusbutton%&gt;
&lt;%nucleusbutton(nucleus/nucleus.gif,46,43)%&gt;
</pre>

</div>




<div class="page">
<a name="skinvar-self"></a>
<h1>スキン変数：self</h1>

<p>現在表示しているページのファイル名を挿入（index.phpか変更しているならそのファイル名）</p>

<h2>引数</h2>
<p>なし</p>

<h2>スキンタイプ</h2>

<p>すべて</p>

<h2>例</h2>

<pre>
&lt;%self%&gt;
</pre>

</div>








<div class="page">
<a name="templatevars-overview"></a>
<h1>テンプレート変数：概略</h1>

<h2>どういったものなのか？</h2>

<p>テンプレート変数は、厳密にいうならスキン変数と同じ方法で広く働きます。唯一の違いはテンプレート内部で利用できることでしょう。変数は<code>&lt;%<i>varname</i>%&gt;</code>という形を用いて呼び出され、変数の機能によってはテキストをインクルードします。また、その他のオプションパラメーターを持つ変数もあります。</p>

<h2>利用可能な変数</h2>

<p>これらテンプレート変数は、次のテンプレート部品で使われます：<tt>「アイテムのヘッダー」、「アイテムの本体」、「アイテムのフッター」、「日付ヘッダー」、「日付フッター」、「続きへのリンク」、「アイテムリンクの編集」</tt>。（変数<tt>image</tt>、<tt>popup</tt>、<tt>media</tt>もまたweblogアイテムの中で使われます。）</p>

<ul>
	<li><a href="#templatevars-basic">基本の変数･･･</a>（title、bodyなど...）</li>
	<li><a href="#templatevars-advanced">上級の変数･･･</a>（include、pluginなど...）</li>
</ul>

<p>コメント関連のテンプレート部品（<tt>「コメントのヘッダー」、「コメントの本体」、「コメントのフッター」、「コメントが1つの時」、「コメントが2つ以上の時」、「コメントの続きを読む」、「コメントが無い時」、「長すぎるコメントの時」</tt>）は利用可能な変数のセットが異なります：</p>

<ul>
	<li><a href="#templatevars-comments">コメント関連の変数･･･</a></li>
</ul>


</div>



<div class="page">
<a name="templatevars-basic"></a>
<h1>テンプレート変数：基本の変数</h1>

<p>これらすべての変数は、そのときパースされているアイテムに関わる値となります。</p>

<table><tr>
	<th>名前</th>
	<th>説明</th>
</tr><tr>
	<td>title</td>
	<td>アイテムのタイトル</td>
</tr><tr>
	<td>body</td>
	<td>本文のテキスト</td>
</tr><tr>
	<td>more</td>
	<td>続きのテキスト</td>
</tr><tr>
	<td>category</td>
	<td>カテゴリーの名前</td>
</tr><tr>
	<td>categorylink</td>
	<td>カテゴリーへの未加工のリンク</td>
</tr><tr>
	<td><a href="#templatevar-karma">karma</a></td>
	<td>カルマ投票の得点</td>
</tr><tr>
	<td>authorlink</td>
	<td>作者への未加工のリンク</td>
</tr><tr>
	<td>itemlink</td>
	<td>アイテムへの未加工のリンク（permanent）</td>
</tr><tr>
	<td><a href="#templatevar-author">author</a></td>
	<td>作者の名前</td>
</tr><tr>
	<td><a href="#templatevar-smartbody">smartbody</a></td>
	<td>本文か続きのどちらか</td>
</tr><tr>
	<td><a href="#templatevar-morelink">morelink</a></td>
	<td>続きを読む為のリンク</td>
</tr><tr>
	<td><a href="#templatevar-date">date</a></td>
	<td>フォーマット済みの日付</td>
</tr><tr>
	<td><a href="#templatevar-time">time</a></td>
	<td>フォーマット済みの時刻</td>
</tr><tr>
	<td>daylink</td>
	<td>その日のアーカイブへの未加工のリンク</td>
</tr><tr>
	<td><a href="#templatevar-comments">comments</a></td>
	<td>コメント・ブロックかコメント数</td>
</tr><tr>
	<td>itemid</td>
	<td>アイテムのID</td>
</tr><tr>
	<td>blogurl</td>
	<td>blogのURL</td>
</tr></table>

<p><a href="#templatevars-overview">テンプレート変数の概略...</a></p>


</div>



<div class="page">
<a name="templatevars-advanced"></a>
<h1>テンプレート変数：上級の変数</h1>


<table><tr>
	<th>名前</th>
	<th>説明</th>
</tr><tr>
	<td>authorid</td>
	<td>現在のアイテムの作者ID</td>
</tr><tr>
	<td>blogid</td>
	<td>blogのID</td>
</tr><tr>
	<td>catid</td>
	<td>現在のアイテムが属するカテゴリーのID</td>
</tr><tr>
	<td>query</td>
	<td>検索のクリエー（もし存在するなら）</td>
</tr><tr>
	<td><a href="#templatevar-syndicate_title">syndicate_title</a></td>
	<td>配信用のタイトル</td>
</tr><tr>
	<td><a href="#templatevar-syndicate_description">syndicate_description</a></td>
	<td>配信用の本文テキスト</td>
</tr><tr>
	<td>karmaposlink</td>
	<td>投票用の未加工リンク</td>
</tr><tr>
	<td>karmaneglink</td>
	<td>投票用の未加工リンク</td>
</tr><tr>
	<td>new</td>
	<td>新しいアイテムを示すテキスト</td>
</tr><tr>
	<td><a href="#skinvar-include">include</a></td>
	<td>パース無しでファイルをインクルード</td>
</tr><tr>
	<td><a href="#skinvar-parsedinclude">parsedinclude</a></td>
	<td>パースしてファイルをインクルード</td>
</tr><tr>
	<td><a href="#skinvar-phpinclude">phpinclude</a></td>
	<td>PHPでパースしてファイルをインクルード</td>
</tr><tr>
	<td><a href="#skinvar-plugin">plugin</a></td>
	<td>プラグインを実行</td>
</tr><tr>
	<td><a href="#templatevar-edit">edit</a></td>
	<td>アイテム編集のリンクを挿入</td>
</tr><tr>
	<td><a href="#templatevar-editlink">editlink</a></td>
	<td>アイテム編集の未加工リンク（bookmarkletへのリンク）</td>
</tr><tr>
	<td><a href="#templatevar-editpopupcode">editpopupcode</a></td>
	<td>editlink用のウィンドウをポップアップするjavascriptコード</td>
</tr><tr>
	<td><a href="#skinvar-skinfile">skinfile</a></td>
	<td>インポートされたスキンに属しているファイル用の正確なURLの取り込み</td>
</tr><tr>
	<td><a href="#skinvar-set">set</a></td>
	<td>パーサーのプロパティを設定</td>
</tr><tr>
	<td><a href="#templatevar-image">image</a></td>
	<td>メディア書庫へのインライン画像</td>
</tr><tr>
	<td><a href="#templatevar-popup">popup</a></td>
	<td>メディア・ディレクトリの画像をポップアップ</td>
</tr><tr>
	<td><a href="#templatevar-media">media</a></td>
	<td>メディア・ディレクトリからの他のメディア・オブジェクト</td>
</tr><tr>
	<td>relevance</td>
	<td>検索結果を表示するテンプレートに'search hit relevance'をインクルードする（2.5より）</td>
</tr></table>

<p><a href="#templatevars-overview">テンプレート変数の概略...</a></p>

</div>




<div class="page">
<a name="templatevars-comments"></a>
<h1>テンプレート変数：コメント関連</h1>


<table><tr>
	<th>名前</th>
	<th>説明</th>
</tr><tr>
	<td>body</td>
	<td>コメントの本体</td>
</tr><tr>
	<td>user</td>
	<td>ユーザー名</td>
</tr><tr>
	<td>userid</td>
	<td>ユーザーのURLかメールアドレス</td>
</tr><tr>
	<td>userlink</td>
	<td>非メンバーにはメールアドレスかURLに対して、メンバーにはメンバー詳細ページに対してリンクを行う（自動で切り替えるスマートなリンク）。注意：このリンクは&lt;a href="..."&gt;と&lt;/a&gt;タグを既に含んでいる。（有効なURLかメールアドレスが無い場合は、ユーザーの名前のみが表示される）</td>
</tr><tr>
	<td>userlinkraw</td>
	<td>上と同じだが&lt;a href..の部分を除く。有効なURLかメールアドレスが存在しないときは空っぽになる。</td>
</tr><tr>
	<td>memberid</td>
	<td>メンバーのID（非メンバーは0となる）</td>
</tr><tr>
	<td>commentcount</td>
	<td>該当アイテムに付けられたコメントの総数</td>
</tr><tr>
	<td><a href="#templatecommentwords" title="commentword()">commentword</a></td>
	<td>1 'comment'、2 'comments'</td>
</tr><tr>
	<td><a href="#templatevar-date" title="date([format])">date</a></td>
	<td>コメントが追加された時の日付</td>
</tr><tr>
	<td><a href="#templatevar-time" title="time([format])">time</a></td>
	<td>コメントが追加された時の時刻</td>
</tr><tr>
	<td>host</td>
	<td>コメントがどこのホストから投稿されたか</td>
</tr><tr>
	<td>ip</td>
	<td>コメントがどこのIPアドレスから投稿されたか</td>
</tr><tr>
	<td>commentid</td>
	<td>現在のコメントのID</td>
</tr><tr>
	<td>itemid</td>
	<td>現在のアイテムのID</td>
</tr><tr>
	<td>itemlink</td>
	<td>アイテムの詳細ページへのリンク</td>
</tr><tr>
	<td><a href="#templateitemtitle" title="itemtitle([maxlength])">itemtitle</a></td>
	<td>現在のアイテムのタイトル</td>
</tr><tr>
	<td>blogid</td>
	<td>weblogのID</td>
</tr><tr>
	<td><a href="#templatememberextra" title="authtext()">authtext</a></td>
	<td>メンバーなら証となるテキストを表示し、非メンバーなら空っぽ</td>
</tr><tr>
	<td>short</td>
	<td>最初の改行部分から先が省略されたコメントの本体。テンプレートによっては末尾に<a href="#templatecommentcontinued">リンクが追加</a>される。</td>
</tr><tr>
	<td>timestamp</td>
	<td>コメントが追加された時のタイムスタンプ</td>
</tr><tr>
	<td><a href="#skinvar-include" title="include(filename)">include</a></td>
	<td>パース無しでファイルをインクルード</td>
</tr><tr>
	<td><a href="#skinvar-parsedinclude" title="parsedinclude(filename)">parsedinclude</a></td>
	<td>パースしてファイルをインクルード</td>
</tr><tr>
	<td><a href="#skinvar-phpinclude" title="phpinclude(filename)">phpinclude</a></td>
	<td>PHPでパースしてファイルをインクルード</td>
</tr><tr>
	<td><a href="#skinvar-plugin" title="plugin(name,[options...])">plugin</a></td>
	<td>プラグインを実行</td>
</tr><tr>
	<td><a href="#skinvar-skinfile" title="skinfile(filename)">skinfile</a></td>
	<td>インポートされたスキンに属しているファイル用の正確なURLの取り込み</td>
</tr><tr>
	<td><a href="#skinvar-set" title="set(property,value)">set</a></td>
	<td>パーサーのプロパティを設定</td>
</tr></table>



<p><a href="#templatevars-overview">テンプレート変数の概略...</a></p>

</div>



<div class="page">
<a name="templatevar-karma"></a>
<h1>テンプレート変数：karma</h1>

<p>カルマ投票のデータを挿入。カルマ投票は、アイテムの'カルマ'を投票する方法。一回のクリックで、訪問者は正にでも負にでも投票できる。これら投票の総計が、該当記事が訪問者にどのように思われているのか知らしめてくれるだろう。</p>

<h2>引数</h2>

<ul>オプション：
	<ul>
		<li><strong><em>どういったものか？</em></strong>：表示される情報の種類を選択：
			<ul>
				<li><strong>totalscore</strong>：カルマ投票の総合得点（正の投票数から負の投票数を引いたもの）<em>（デフォルト）</em></li>
				<li><strong>pos</strong>：正の投票の総計</li>
				<li><strong>neg</strong>：負の投票の総計</li>
				<li><strong>votes</strong>：投票数の総計</li>
				<li><strong>posp</strong>：正に投じられたパーセンテージ</li>
				<li><strong>negp</strong>：負に投じられたパーセンテージ</li>
			</ul>
		</li>
	</ul>
</ul>

<h2>例</h2>
<pre><code>&lt;%karma(posp)%&gt;がよい記事だと評価しました（総計&lt;%votes%&gt;票）</code></pre>


</div>



<div class="page">
<a name="templateitemtitle"></a>
<h1>テンプレート変数：templateitemtitle</h1>

<p>コメント関連テンプレート変数において、元記事のタイトルを挿入する。</p>

<h2>引数</h2>

<ul>オプション：
	<ul>
		<li><strong><em>maxlength</em></strong>：指定されると、<a href="#templatevar-syndicate_title">テンプレート変数syndicate_title</a>のような振る舞いでアイテムのタイトルを加工する。</li>
	</ul>
</ul>

</div>






<div class="page">
<a name="templatevar-author"></a>
<h1>テンプレート変数：author</h1>

<p>作者の名前を挿入</p>

<h2>引数</h2>
<ul>オプション：
	<ul>
		<li><strong><em>どういったものか？</em></strong>：表示される情報の種類を選択：
			<ul>
				<li><strong>name</strong>：名前を表示<em>（デフォルト）</em></li>
				<li><strong>realname</strong>：作者の「本名」欄を表示名の代わりに</li>
				<li><strong>id</strong>：そのNucleusでのメンバーID</li>
				<li><strong>url</strong>：メンバーのウェブサイトのURL</li>
				<li><strong>email</strong>：メンバーのメールアドレス（使うのは避けるべき）</li>
			</ul>
		</li>
	</ul>
</ul>

<h2>例</h2>

<pre><code>&lt;%author%&gt;
&lt;%author(realname)%&gt;
&lt;a href="&lt;%author(url)%&gt;"&gt;&lt;%author%&gt;&lt;/a&gt;</code></pre>

</div>




<div class="page">
<a name="templatevar-smartbody"></a>
<h1>テンプレート変数：smartbody</h1>

<p>現在のアイテムを調べ、本文テキストか続きテキストのどちらを表示するか決定する。</p>

<p>続き部分が空っぽなら、本文部分が選択される。そうでなければ続き部分が表示される。</p>

<table style="text-align: center;"><tr>
	<th>部分名</th><th colspan="2">空っぽか否か？</th>
</tr><tr>
	<td>本文</td><td>いいえ</td><td>いいえ</td>
</tr><tr>
	<td>続き</td><td>はい</td><td>いいえ</td>
</tr><tr>
	<th>smartbodyの表示＝</th><th>「本文部分」</th><th>「続き部分」</th>
</tr></table>

<h2>使用例</h2>

<p>本文のテキストが完全なテキストと判断され、続きの部分はフロントページに表示される「紹介」や「抜粋」と判断されます。</p>
<p>フロントページで使われているテンプレートには<tt>&lt;%smartbody%&gt;</tt>を使い、抜粋が存在するときにはそれを、無い場合は完全なテキストを挿入します。アイテムの詳細テンプレートには、<tt>&lt;%body%&gt;</tt> + <tt>&lt;%more%&gt;</tt>のかわりに<tt>&lt;%body%&gt;</tt>を使います。<tt>&lt;%body%&gt;</tt>は少なくとも完全なアイテムが入っているのですから。</p>




</div>


<div class="page">
<a name="templatevar-morelink"></a>
<h1>テンプレート変数：morelink</h1>

<p>アイテムの詳細ページへの、テンプレート(<a href="#templatemorelink">続きへのリンク</a>)で定義されているリンクを挿入。「続き」部分が無いときは空っぽとなる。</p>

<p>テンプレート部品'続きへのリンク'の中身もまたパースされるので、同様に<a href="#templatevars-overview">テンプレート変数</a>を含むことができることに注意。</p>
</div>


<div class="page">
<a name="templatevar-date"></a>
<h1>テンプレート変数：date</h1>

<p><a href="#templatedatetime">テンプレートにおける日付の詳細なフォーマット</a>を用いた日付の挿入。オプションとして、与えられたパラメーターによる日付フォーマットのカスタムが可能。</p>

<h2>引数</h2>
<ul>オプション：
	<ul>
		<li><strong><i>format</i></strong>：日付のフォーマットに用いる形式</li>
	</ul>
</ul>

<h2>特別</h2>

<p>4つの特別なパラメーターが利用可能：（下の二つは2.5から）</p>
<ol>
 <li><code>rfc822</code>：ローカルにあわせたRFC822フォーマットの日付</li>
 <li><code>rfc822GMT</code>：GMTにあわせたRFCフォーマットの日付</li>
 <li><code>iso8601</code>：ISO-8601フォーマットの日付（<a href="http://www.w3.org/TR/NOTE-datetime">W3Cの時刻と日付フォーマット</a>に概略）。例：2002-10-02T10:00:00-05:00</li>
 <li><code>utc</code>：iso8601と同じだが、日付にはタイムゾーンの表示として"Z"を使うUTCで表現される。</li>
</ol>

<h2>例</h2>
<pre>
&lt;%date%&gt;
&lt;%date(%x)%&gt;
&lt;%date(rfc822)%&gt;
&lt;%date(rfc822GMT)%&gt;
</pre>


</div>

<div class="page">
<a name="templatevar-time"></a>
<h1>テンプレート変数：time</h1>

<p><a href="#templatedatetime">テンプレートにおける時刻の詳細なフォーマット</a>を用いた時刻の挿入。オプションとして、与えられたパラメーターによる時刻フォーマットのカスタムが可能。</p>

<h2>引数</h2>
<ul>オプション：
	<ul>
		<li><strong><i>format</i></strong>：時刻のフォーマットに用いる形式</li>
	</ul>
</ul>

<h2>例</h2>
<pre>
&lt;%time%&gt;
&lt;%time(%X)%&gt;
</pre>

</div>


<div class="page">
<a name="templatevar-comments"></a>
<h1>テンプレート変数：comments</h1>

<p>コメント・ブロックを挿入。<a href="#templatecomments">このブロックの構成に関するさらなる情報</a>。</p>

<h2>引数</h2>
<ul><p>オプション：</p>
	<table><tr>
		<th>名前</th>
		<th>内容</th>
	</tr><tr>
		<td>MaxToShow</td>
		<td>表示するコメントの数（設定されていれば、a href="#blogmaxcomments">blogごとの設定にあるコメントの最大量</a>を上書きする）</td>
	</tr></table>
</ul>

<h2>例</h2>

<pre>
&lt;%comments%&gt;
&lt;%comments(5)%&gt;
</pre>

</div>


<div class="page">
<a name="templatevar-syndicate_title"></a>
<h1>テンプレート変数：syndicate_title</h1>

<p>HTMLタグを取り除き、100文字にまで縮めたアイテムのタイトルを挿入。テキストが縮められた場合は、末尾に"..."が追加される。</p>

<p>この変数はもともとNucleusで用いるXML-RSSスキンで使うことを意図していたが、他の状況でも利用することも可能。</p>

<h2>引数</h2>
<ul>
	<li>
		<p>オプション：</p>
		<table><tr>
			<th>名前</th>
			<th>内容</th>
		</tr><tr>
			<td>MaxChars</td>
			<td>保持する文字数の最大値（デフォルトは100）</td>
		</tr></table>
	</li>
</ul>

<h2>例</h2>

<pre>
&lt;%syndicate_title%&gt;
&lt;%syndicate_title(25)%&gt;
</pre>

</div>

<div class="page">
<a name="templatevar-syndicate_description"></a>
<h1>テンプレート変数：syndicate_description</h1>

<p>HTMLタグを取り除き、250文字にまで縮めたアイテムの本文を挿入。テキストが縮められた場合は、末尾に"..."が追加される。</p>

<p>この変数はもともとNucleusで用いるXML-RSSスキンで使うことを意図していたが、他の状況でも利用することも可能。</p>

<h2>引数</h2>
<ul>
	<li>
		<p>オプション：</p>
		<table><tr>
			<th>名前</th>
			<th>内容</th>
		</tr><tr>
			<td>MaxChars</td>
			<td>保持する文字数の最大値（デフォルトは250）</td>
		</tr></table>
	</li>
</ul>

<h2>例</h2>

<pre>
&lt;%syndicate_description%&gt;
&lt;%syndicate_description(25)%&gt;
</pre>

</div>


<div class="page">
<a name="templatevar-image"></a>
<h1>テンプレート変数：image</h1>

<p>アイテム本体やテンプレートにインライン画像を挿入。</p>

<p>通常、テンプレート変数imageはメディア書庫内の画像を追加するとき自動的に生成される。とはいえ、テンプレート内部で呼び出すことも出来る。その場合は、現在のアイテム作者のメディア・ディレクトリから画像が持ってこられることに注意すること。</p>

<h2>引数</h2>
<ul>
	<li>
		<p>必須：</p>
		<table><tr>
			<th>名前</th>
			<th>内容</th>
		</tr><tr>
			<td>filename</td>
			<td>画像ファイルの名前</td>
		</tr><tr>
			<td>width</td>
			<td>画像の横幅（ピクセルかパーセンテージ）</td>
		</tr><tr>
			<td>height</td>
			<td>画像の高さ（ピクセルかパーセンテージ）</td>
		</tr><tr>
			<td>text</td>
			<td>画像の代用テキスト</td>
		</tr></table>
	</li>
	<li><strong>注意：</strong>画像、ポップアップ、メディアタグにおいては、パラメーターは'|'で区切られなければなりません。コンマでは<em>ありませんよ</em>！</li>
</ul>

<h2>例</h2>

<pre>
&lt;%image(myphoto.jpg|100|200|これが私です)%&gt;
&lt;%image(myphoto.jpg|50%|50%|縮小していますが、これが私です)%&gt;
</pre>

</div>



<div class="page">
<a name="templatevar-popup"></a>
<h1>テンプレート変数：popup</h1>

<p>アイテム本体やテンプレートにポップアップ画像を挿入。</p>

<p>通常、テンプレート変数popupはメディア書庫内の画像を追加するとき自動的に生成される。とはいえ、テンプレート内部で呼び出すことも出来る。その場合は、現在のアイテム作者のメディア・ディレクトリから画像が持ってこられることに注意すること。</p>

<h2>引数</h2>
<ul>
	<li>
		<p>必須：</p>
		<table><tr>
			<th>名前</th>
			<th>内容</th>
		</tr><tr>
			<td>filename</td>
			<td>画像ファイルの名前</td>
		</tr><tr>
			<td>width</td>
			<td>画像の横幅（ピクセルかパーセンテージ）</td>
		</tr><tr>
			<td>height</td>
			<td>画像の高さ（ピクセルかパーセンテージ）</td>
		</tr><tr>
			<td>text</td>
			<td>画像の代用テキスト</td>
		</tr></table>
	</li>
	<li><strong>注意：</strong>画像、ポップアップ、メディアタグにおいては、パラメーターは'|'で区切られなければなりません。コンマでは<em>ありませんよ</em>！</li>
</ul>

<h2>例</h2>

<pre>
&lt;%popup(myphoto.jpg|100|200|これが私です)%&gt;
&lt;%popup(myphoto.jpg|50%|50%|縮小していますが、これが私です)%&gt;
</pre>

</div>



<div class="page">
<a name="templatevar-media"></a>
<h1>テンプレート変数：media</h1>

<p>アイテム本体やテンプレートにメディアオブジェクトを挿入。</p>

<p>通常、テンプレート変数mediaはメディア書庫内の画像を追加するとき自動的に生成される。とはいえ、テンプレート内部で呼び出すことも出来る。その場合は、現在のアイテム作者のメディア・ディレクトリからオブジェクトが持ってこられることに注意すること。</p>

<h2>引数</h2>
<ul>
	<li>
		<p>必須：</p>
		<table><tr>
			<th>名前</th>
			<th>内容</th>
		</tr><tr>
			<td>filename</td>
			<td>メディアオブジェクトのファイル名</td>
		</tr><tr>
			<td>text</td>
			<td>メディアオブジェクトの説明テキスト</td>
		</tr></table>
	</li>
	<li><strong>注意：</strong>画像、ポップアップ、メディアタグにおいては、パラメーターは'|'で区切られなければなりません。コンマでは<em>ありませんよ</em>！</li>
</ul>

<h2>例</h2>

<pre><code>&lt;%media(mysong.mp3|新曲を聞いてみてください)%&gt;</code></pre>

</div>


<div class="page">
<a name="templatevar-edit"></a>
<h1>テンプレート変数：edit</h1>

<p>テンプレートの内部にて、このテンプレート変数を使えば'アイテムの編集'リンクを加えることが出来る。デフォルトでは、ポップアップするbookmarkletウィンドウへのリンクとなるが、<a href="#templateeditlink">テンプレート：アイテムリンクの編集</a>を通して振る舞いを変更することが可能。</p>

<p><strong>注意：</strong>アイテムの編集が許可されたログイン状態のメンバーのみが、このリンクを目に出来ます。他の場合は、テンプレート変数editは何も表示しません。</p>

<h2>例</h2>
<p>「アイテムの本体」テンプレートの一例</p>
<pre><code>&lt;h1&gt;&lt;%title%&gt;&lt;/h1&gt;
&lt;p&gt;&lt;%body%&gt; &lt;%morelink%&gt;&lt;/p&gt;
&lt;div class="metadata"&gt;
	&lt;%edit%&gt; &lt;%comments%&gt;
&lt;/div&gt;</code></pre>

<h2>Results in</h2>

<div class="example">
<h4 style="margin:2px;">タイトル</h4>
<p style="margin:2px;">アイテムの本文</p>
<div style="margin:2px;"><a href="#templatevar-edit">編集</a> - <a href="#templatevar-edit">5 comments</a></div>
</div>

</div>


<div class="page">
<a name="templatevar-editlink"></a>
<h1>テンプレート変数：editlink</h1>

<p>'アイテムの編集'bookmarkletへのリンクを挿入。これは<a href="#templateeditlink">テンプレート：アイテムリンクの編集</a>内で単純に使うことが出来る。</p>

<h2>例</h2>

<p><a href="#templateeditlink">テンプレート：アイテムリンクの編集</a>はこんな感じになる：</p>
<pre>
&lt;a href="&lt;%editlink%&gt;"
   onclick="&lt;%editpopupcode%&gt;"&gt;編集&lt;/a&gt; -
</pre>

</div>


<div class="page">
<a name="templatevar-editpopupcode"></a>
<h1>テンプレート変数：editpopupcode</h1>

<p>'アイテムリンクの編集'ウィンドウをポップアップで開くためには、リンクにいくつかのjavascriptコードを追加する必要がある。このコードを「テンプレート：アイテムリンクの編集」に置く手間を省くために、テンプレート変数editpopupcodeを用いてそれを挿入することが出来る。</p>

<h2>例</h2>
<p><a href="#templatevar-editlink">テンプレート変数：editlink</a>の例をみること。</p>
</div>



<div class="page">
<a name="plugins"></a>
<h1>プラグイン</h1>
<p>Nucleusでは特別な機能を追加するために、カスタムしたプラグインをインストールすることができる。プラグインはまったく違う事柄を実行できる：
</p>
<ol>
	<li>スキン変数のように振舞う</li>
	<li>テンプレート変数のように振舞う</li>
	<li>Nucleusによって生成されたイベントのフック。「プラグインの管理」画面での「上へ」と「下へ」リンクは、イベント発生時にプラグインを呼び出す順番を決定するために用いられる。最初のプラグインは最初に呼び出され、最後のプラグインは最後に呼び出される。</li>
	<li><tt>action.php</tt>を通して呼び出されたときにアクタのように振舞う</li>
</ol>
<p>プラグインに対する責任は、完全にプラグインの作者にあることを心にとめておくこと。彼または彼女は、すべてが問題なく動くようきっちりと作らなければならない。</p>
</div>

<div class="page">
<a name="parser-properties"></a>
<a name="includemode"></a>
<a name="includeprefix"></a>
<h1>パーサーのプロパティ</h1>

<p>利用可能なパーサーオプションを以下に記述する。</p>

<table>
 <caption>パーサーのプロパティ</caption>
 <tr>
 	<th>オプション名</th>
	<th>値</th>
 </tr><tr>
 	<td>Includeモード</td>
	<td>
		<ul>
			<li><strong>normal</strong>：通常の動作；ページを作成する.phpファイルのディレクトリ/URLから相対位置のファイルを取り出しインクルード。</li>
			<li><strong>skindir</strong>：スキンディレクトリ/スキンURLから相対位置のファイルを取り出しインクルード。</li>
		</ul>
		<p>このプロパティは次のスキン変数に影響を与えます：<a href="#skinvar-include">include</a>、<a href="#skinvar-phpinclude">phpinclude</a>、<a href="#skinvar-parsedinclude">parsedinclude</a>、<a href="#skinvar-nucleusbutton">nucleusbutton</a></p>
	</td>
 </tr><tr>
 	<td>Includeプリフィックス</td>
 	<td>
		<p>このプロパティはインクルードするファイルそれぞれの頭に追加されるプリフィックスです。例えば、プリフィックスが<tt>base/</tt>でインクルードするファイルが<tt>somefile.txt</tt>なら、最終的には<tt>base/somefile.txt</tt>をインクルードすることになります。</tt></p>
		<p>このプロパティはIncludeModeのプロパティと共に使われることが意図されています。この方法で、<tt><em>skindir/</em>somename/</tt>にインポートされたスキンは、<tt>IncludeMode</tt>を<tt>skindirを使う</tt>に<tt>IncludePrefix</tt>を<tt>somename/</tt>に設定しておくことができます。</p>
		<p>このプロパティは次のスキン変数に影響を与えます：<a href="#skinvar-include">include</a>、<a href="#skinvar-phpinclude">phpinclude</a>、<a href="#skinvar-parsedinclude">parsedinclude</a>、<a href="#skinvar-nucleusbutton">nucleusbutton</a></p>
	</td>
  </tr>
</table>

<p><tt>Includeプリフィックス</tt>と<tt>Includeモード</tt>のプロパティは、「スキンの一般的設定」において該当スキンでの包括的な設定が可能です。なお、プロパティが設定されてしまうと、例えばテンプレートも含めたすべてのパースデータにそれが適用されることを心にとめておいてください。</p>

</div>

</body>
</html>